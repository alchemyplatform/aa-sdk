---
title: Privy
description: Use Privy with Alchemy Smart Wallets for EIP-7702, sponsorship, swaps, and batching
slug: wallets/third-party/signers/privy
---

Upgrade existing Privy wallets to Smart Wallets to enable gasless transactions (EVM & Solana), batching, token swaps, and more in under 10 minutes. Keep Privy for authentication, no wallet migration needed. Add our battle-tested transaction infrastructure using EIP-7702 to upgrade EOAs to Smart Wallets:

- [#1 gas abstraction infrastructure](https://www.bundlebear.com/erc4337-bundlers/all) on the market
- [370M+](https://www.bundlebear.com/erc4337-paymasters/all) sponsored transactions
- 99.9% SLAs
- Trusted by Worldcoin, JP Morgan, Gensyn, and more
- Solana gas sponsorship support

<Tip>
  Don't have social login or a wallet set up yet? Start with the
  <a href="/wallets/quickstart">Smart Wallet Quickstart</a> to create one in
  minutes.
</Tip>

<Tabs>
  <Tab title="React">
    ## Setup

    Follow these steps to integrate Privy with Smart Wallets.

    ### Installation

    ```bash
    npm install @account-kit/privy-integration
    # or
    yarn add @account-kit/privy-integration
    # or
    pnpm add @account-kit/privy-integration
    ```

    <Note>
      **Solana Support (Optional):** To use `useAlchemySolanaTransaction`, install `@solana/web3.js` and import from `@account-kit/privy-integration/solana`. This dependency is optionalâ€”skip it if you only need EVM features.
    </Note>

    ### Prerequisites: Get your keys (API key, Policy ID, Privy App ID)

    - Alchemy API Key:
      - Go to the [Alchemy Dashboard](https://dashboard.alchemy.com/)
      - Create or select an app and copy the API key
    - Gas sponsorship Policy ID (Gas Manager):
      - Create a gas sponsorship policy in the [dashboard](https://dashboard.alchemy.com/services/gas-manager/configuration) and copy its Policy ID
    - Privy App ID:
      - Go to the [Privy Dashboard](https://dashboard.privy.io/)
      - Create or select an app and copy the App ID

    <Warning>
      Both the Smart Wallets configuration and the gas sponsorship policy must be
      linked to the application behind your Alchemy API key for sponsorship to work.
    </Warning>

    ### 1. Add AlchemyProvider

    ```tsx
    import { PrivyProvider } from "@privy-io/react-auth";
    import { AlchemyProvider } from "@account-kit/privy-integration";

    function App() {
      return (
        <PrivyProvider appId="your-privy-app-id" config={{}}>
          <AlchemyProvider apiKey="your-alchemy-api-key" policyId="your-gas-policy-id">
            <YourApp />
          </AlchemyProvider>
        </PrivyProvider>
      );
    }
    ```

    Props for `AlchemyProvider`:

    - `apiKey` | `jwt` | `rpcUrl` (pick a valid transport config)
    - `policyId` (optional) for EVM gas sponsorship
    - `solanaPolicyId` (optional) for Solana gas sponsorship
    - `solanaRpcUrl` (optional) for Solana RPC URL (separate from EVM)
    - `disableSponsorship` (optional) to opt-out per default

    ### 2. Send Gasless Transactions

    ```tsx
    import { useAlchemySendTransaction } from "@account-kit/privy-integration";

    function SendButtons() {
      const { sendTransaction, isLoading } = useAlchemySendTransaction();

      const single = async () =>
        await sendTransaction({ to: "0x...", data: "0x...", value: "0x0" });

      const batch = async () =>
        await sendTransaction([
          { to: "0x...", data: "0x..." },
          { to: "0x...", data: "0x..." },
        ]);

      return (
        <>
          <button onClick={single} disabled={isLoading}>Send</button>
          <button onClick={batch} disabled={isLoading}>Send Batch</button>
        </>
      );
    }
    ```

    Control sponsorship per call:

    ```tsx
    await sendTransaction({ to: "0x...", data: "0x..." });
    await sendTransaction({ to: "0x...", data: "0x..." }, { disableSponsorship: true });
    ```

    ### 3. Execute Token Swaps

    ```tsx
    import { useAlchemyPrepareSwap, useAlchemySubmitSwap } from "@account-kit/privy-integration";

    function SwapButton() {
      const { prepareSwap } = useAlchemyPrepareSwap();
      const { submitSwap, isLoading } = useAlchemySubmitSwap();

      const handleSwap = async () => {
        const prepared = await prepareSwap({
          fromToken: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
          toToken: "0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48", // USDC on Ethereum mainnet
          fromAmount: "0xde0b6b3a7640000",
        });
        await submitSwap(prepared);
      };

      return <button onClick={handleSwap} disabled={isLoading}>Swap</button>;
    }
    ```

    ### 4. Send Solana Transactions

    ```tsx
    import { useAlchemySolanaTransaction } from "@account-kit/privy-integration/solana";

    function SolanaButton() {
      const { sendTransactionAsync, isPending } = useAlchemySolanaTransaction({
        rpcUrl: "https://solana-mainnet.g.alchemy.com/v2/your-api-key",
        policyId: "your-solana-policy-id", // optional
      });

      const handleTransfer = async () => {
        const result = await sendTransactionAsync({
          transfer: {
            amount: 1_000_000_000, // 1 SOL in lamports
            toAddress: "recipient-base58-address",
          },
        });
        console.log("Transaction hash:", result.hash);
      };

      return <button onClick={handleTransfer} disabled={isPending}>Send SOL</button>;
    }
    ```

    ### Advanced: Access the Smart Wallet Client

    ```tsx
    import { useAlchemyClient } from "@account-kit/privy-integration";

    function Advanced() {
      const { getClient } = useAlchemyClient();

      const doOp = async () => {
        const client = await getClient();
        const address = await client.getAddress();
        await client.sendCalls({
          from: address,
          calls: [{ to: "0x...", data: "0x" }],
          capabilities: { eip7702Auth: true, paymasterService: { policyId: "your-policy-id" } },
        });
      };

      return <button onClick={doOp}>Advanced Op</button>;
    }
    ```

    ### Notes

    - **EVM**: EIP-7702 is used to delegate your EOA to a smart account at send time.
    - **Solana**: Gas sponsorship via Alchemy's fee payer service for Privy's embedded Solana wallets.
    - The hooks API mirrors Privy's transaction hooks for easy migration.

  </Tab>
</Tabs>
