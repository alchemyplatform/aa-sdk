---
title: Use session keys
description: Create permissioned secondary keys to perform transactions on behalf of users
slug: wallets/transactions/session-keys/
---

Session keys are a powerful feature of Smart Wallets that allow you to assign specific permissions to secondary keys on your users' accounts. These additional keys can perform transactions on behalf of the user, but are bound by the permission restrictions you define. This enables secure, automated interactions while maintaining granular control over what actions can be performed.

## How it works

Session keys allow you to create temporary or permanent secondary signers with scoped permissions that are validated onchain. These keys can perform actions like token transfers, contract interactions, or automated workflows without requiring the user's main private key for each transaction.

Key benefits include:

- **Reduced UX friction**: Skip duplicate confirmations for repeated actions
- **Automated workflows**: Enable server-side wallet actions for recurring tasks
- **Enhanced security**: Limit exposure of the main account key
- **Granular permissions**: Control exactly what, when, and how much a session key can do

## Prerequisites

- API key from your [dashboard](https://dashboard.alchemy.com/apps)
- [Smart Wallets installed and configured in your project](/wallets/pages/react/setup.mdx)
- A [gas manager policy ID](/wallets/transactions/sponsor-gas/sponsor-gas) if sponsoring gas

## Implementation

<Tabs>
  <Tab title="React">
    <Markdown src="react.mdx" />
  </Tab>
  <Tab title="JavaScript">
    <Markdown src="client.mdx" />
  </Tab>
  <Tab title="API">
    <Markdown src="api.mdx" />
  </Tab>
</Tabs>

## Permission Types

Session keys work best when they are tightly scoped. You can apply multiple permission types to create granular control over what a session key can do:

### Native Token Transfer

Allows transfer of native tokens (like Ether) from the account with a specified limit.

```ts
{
  type: "native-token-transfer";
  data: {
    allowance: "0xde0b6b3a7640000"; // 1 ETH in hex
  }
}
```

### ERC20 Token Transfer

Allows transfer or approval of ERC20 tokens from the account. Both transfers and approvals count towards the limit.

```ts
{
  type: "erc20-token-transfer";
  data: {
    address: "0xA0b86a33E6441b8c4C8C0e1cB8C4C8C0e1cB8C4C8"; // token contract address
    allowance: "0x56bc75e2d630e0000"; // 100 USDC in hex
  }
}
```

### Gas Limit

Allows the session key to spend gas for user operations up to a specified limit.

```ts
{
  type: "gas-limit";
  data: {
    limit: "0x493e0"; // 300,000 gas in hex
  }
}
```

### Contract Access

Grants access to **all** functions in a specific contract.

```ts
{
  type: "contract-access";
  data: {
    address: "0x1234567890123456789012345678901234567890"; // target contract address
  }
}
```

### Functions On Contract

Grants access to specific function selectors on **one** contract.

```ts
{
  type: "functions-on-contract";
  data: {
    address: "0x1234567890123456789012345678901234567890";
    functions: ["0xddf252ad", "0x095ea7b3"]; // transfer and approve function selectors
  }
}
```

### Account Functions

Grants access to specific functions on the smart account itself.

```ts
{
  type: "account-functions";
  data: {
    functions: ["0xabcdef01", "0x12345678"]; // allowed function selectors
  }
}
```

### Root

Grants full access to everything. **Use with extreme caution in production.**

```ts
{
  type: "root"; // no additional data required
}
```

## Next steps

Build more:

- [Sponsor gas for users](/wallets/transactions/sponsor-gas/sponsor-gas)
- [Send batch transactions](/wallets/transactions/send-batch-transactions)
