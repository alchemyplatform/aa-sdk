<Info>Required SDK version: ^v4.61.0</Info>

Use the `useSendCalls` hook to send and retry transactions. When retrying, don't specify a `nonceOverride` - the client automatically uses the same nonce to replace the stuck transaction.

You'll need both `ALCHEMY_API_KEY` and `ALCHEMY_POLICY_ID` environment variables set to follow along!

<CodeBlocks>

```tsx title="retryTransaction.tsx"
import { config } from "@/app/config";
import {
  useSendCalls,
  useSmartAccountClient,
  useSmartWalletClient,
} from "@account-kit/react";
import { useState } from "react";

export default function RetryTransaction() {
  const { client } = useSmartAccountClient({});
  const { sendCallsAsync } = useSendCalls({ client });
  const walletClient = useSmartWalletClient({
    account: client?.getAddress(),
  });
  const [isStuck, setIsStuck] = useState(false);

  const handleSend = async () => {
    if (!client) {
      throw new Error("Smart account client not connected");
    }
    if (!walletClient) {
      throw new Error("Wallet client not connected");
    }

    try {
      const { ids } = await sendCallsAsync({
        capabilities: {
          paymasterService: {
            policyId: config.policyId,
          },
        },
        calls: [
          {
            to: "0x0000000000000000000000000000000000000000",
            value: "0x00",
            data: "0x",
          },
        ],
      });

      console.log("Transaction sent:", ids[0]);

      // Check status after a delay
      setTimeout(async () => {
        const callStatus = await walletClient.getCallsStatus(ids[0]!);
        console.log(callStatus.status);
        if (callStatus.status === 100) {
          setIsStuck(true);
          console.log("Transaction is still in mempool");
        }
      }, 3000); // Check after 3 seconds
    } catch (error) {
      console.error(error);
    }
  };

  const handleRetry = async () => {
    if (!client) {
      throw new Error("Smart account client not connected");
    }
    if (!walletClient) {
      throw new Error("Wallet client not connected");
    }

    try {
      // Re-send without nonceOverride to replace stuck transaction
      const { ids } = await sendCallsAsync({
        capabilities: {
          paymasterService: {
            policyId: config.policyId,
          },
        },
        calls: [
          {
            to: "0x0000000000000000000000000000000000000000",
            value: "0x00",
            data: "0x",
          },
        ],
      });

      console.log("Replacement transaction sent:", ids[0]);
      setIsStuck(false);

      const result = await walletClient.waitForCallsStatus({ id: ids[0]! });
      console.log("Replacement confirmed:", result);
    } catch (error) {
      console.error(error);
    }
  };

  return (
    <div>
      <button onClick={handleSend}>Send Transaction</button>
      {isStuck && (
        <button onClick={handleRetry}>Replace Stuck Transaction</button>
      )}
    </div>
  );
}
```

```ts title="config.ts"
export const config = {
  alchemyApiKey: process.env.ALCHEMY_API_KEY!,
  policyId: process.env.ALCHEMY_POLICY_ID!,
};
```

</CodeBlocks>
