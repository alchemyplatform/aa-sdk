<Info>Required SDK version: ^v4.61.0</Info>

You'll need the following env variables:

- `ALCHEMY_API_KEY`: An [Alchemy API Key](https://dashboard.alchemy.com/apps)
- `ALCHEMY_POLICY_ID`: A [Gas Manager](https://dashboard.alchemy.com/gas-manager/policy/create) policy ID
- `PRIVATE_KEY`: A private key for a signer

<CodeBlocks>

```ts title="requestQuote.ts"
import { swapActions } from "@account-kit/wallet-client/experimental";
import { client } from "./client";

const account = await client.requestAccount();

// Add the swap actions to the client
const swapClient = client.extend(swapActions);

// Request the swap quote
const { quote, ...calls } = await swapClient.requestQuoteV0({
  from: account.address,
  fromToken: "0x...",
  toToken: "0x...",
  minimumToAmount: "0x...",
});

// Display the swap quote, including the minimum amount to receive and the expiry
console.log(quote);

// Assert that the calls are not raw calls.
// This will always be the case when requestQuoteV0 is used without the `returnRawCalls` option,
// the assertion is just needed for Typescript to recognize the result type.
if (calls.rawCalls) {
  throw new Error("Expected user operation calls");
}

// Sign the quote, getting back prepared and signed calls
const signedCalls = await swapClient.signPreparedCalls(calls);

// Send the prepared calls
const { preparedCallIds } = await swapClient.sendPreparedCalls(signedCalls);

// Wait for the call to resolve
const callStatusResult = await swapClient.waitForCallsStatus({
  id: preparedCallIds[0]!,
});

// Filter through success or failure cases
if (
  callStatusResult.status !== "success" ||
  !callStatusResult.receipts ||
  !callStatusResult.receipts[0]
) {
  throw new Error(
    `Transaction failed with status ${callStatusResult.status}, full receipt:\n ${JSON.stringify(callStatusResult, null, 2)}`,
  );
}

console.log("Swap confirmed!");
console.log(
  `Transaction hash: ${callStatusResult.receipts[0].transactionHash}`,
);
```

```ts title="client.ts"
import "dotenv/config";
import type { Hex } from "viem";
import { LocalAccountSigner } from "@aa-sdk/core";
import { alchemy, sepolia } from "@account-kit/infra";
import { createSmartWalletClient } from "@account-kit/wallet-client";

const clientParams = {
  transport: alchemy({
    apiKey: process.env.ALCHEMY_API_KEY!,
  }),
  chain: sepolia,
  signer: LocalAccountSigner.privateKeyToAccountSigner(
    process.env.PRIVATE_KEY! as Hex,
  ),
  policyId: process.env.ALCHEMY_POLICY_ID!, // Optional: If you're using a gas manager policy
};

const clientWithoutAccount = createSmartWalletClient(clientParams);

const account = await clientWithoutAccount.requestAccount();

export const client = createSmartWalletClient({
  ...clientParams,
  account: account.address,
});
```

</CodeBlocks>
