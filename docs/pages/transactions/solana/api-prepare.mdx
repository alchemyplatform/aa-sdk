<CodeBlocks>

```ts twoslash title="example.ts"
import * as solanaWeb3 from "@solana/web3.js";
import { connection, keypair } from "./config.ts";

const instructions = [
  solanaWeb3.SystemProgram.transfer({
    fromPubkey: keypair.publicKey,
    toPubkey: keypair.publicKey,
    lamports: 5,
  }),
];

const { blockhash } = await connection.getLatestBlockhash();

const message = new solanaWeb3.TransactionMessage({
  payerKey: new solanaWeb3.PublicKey(
    "Amh6quo1FcmL16Qmzdugzjq3Lv1zXzTW7ktswyLDzits",
  ), // Placeholder: Set this to an address different than any other address included in the tx, will be replaced by alchemy's feePayer
  recentBlockhash: blockhash,
  instructions,
}).compileToV0Message();

const transaction = new solanaWeb3.VersionedTransaction(message);
export const serializedTx = Buffer.from(transaction.serialize()).toString(
  "base64",
);
```

```ts twoslash title="config.ts"
import { Connection, Keypair } from "@solana/web3.js";

export const ALCHEMY_API_KEY = "<API_KEY>";
const SOLANA_SECRET_KEY_BASE64 = "<SOLANA_SECRET_KEY>";
const secretKey = new Uint8Array(
  Buffer.from(SOLANA_SECRET_KEY_BASE64, "base64"),
);
export const keypair = Keypair.fromSecretKey(secretKey);

export const connection = new Connection(
  `https://solana-devnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}`,
  { commitment: "confirmed" },
);
```

</CodeBlocks>
