---
# This file is autogenerated
title: useSubmitOtpCode
description: Overview of the useSubmitOtpCode method
slug: wallets/reference/alchemy/react/hooks/useSubmitOtpCode
---

React hook for phase 2 of email OTP authentication - submits the OTP code to complete authentication.

This hook wraps the `submitOtpCode` action with React Query mutation functionality,
providing loading states, error handling, and mutation management. Upon successful submission,
the user will be authenticated and the wallet connection will be established.

## Import

```ts
import { useSubmitOtpCode } from "@alchemy/react";
```

## Usage

```tsx twoslash
import { useSubmitOtpCode } from "@alchemy/react";
import { useState } from "react";

function OtpVerificationForm() {
  const { submitOtpCode, isPending, error } = useSubmitOtpCode();
  const [otpCode, setOtpCode] = useState("");

  const handleSubmit = () => {
    submitOtpCode({ otpCode });
  };

  return (
    <div>
      <input
        value={otpCode}
        onChange={(e) => setOtpCode(e.target.value)}
        placeholder="Enter OTP code"
      />
      <button onClick={handleSubmit} disabled={isPending}>
        {isPending ? "Verifying..." : "Verify OTP"}
      </button>
    </div>
  );
}
```

## Parameters

### parameters

`UseSubmitOtpCodeParameters`

- Configuration options for the hook

### parameters.config

`Config`

- Optional wagmi config override

### parameters.mutation

`UseMutationParameters`

- Optional React Query mutation configuration

## Returns

`UseSubmitOtpCodeReturnType`
TanStack Query mutation object with the following properties:

- `submitOtpCode`: `(variables: SubmitOtpCodeParameters, options?) => void` - Mutation function to submit OTP code and complete authentication
- `submitOtpCodeAsync`: `(variables: SubmitOtpCodeParameters, options?) => Promise<SubmitOtpCodeReturnType>` - Async mutation function that returns a promise
- `data`: `SubmitOtpCodeReturnType | undefined` - The last successfully resolved data (void)
- `error`: `Error | null` - The error object for the mutation, if an error was encountered
- `isError`: `boolean` - True if the mutation is in an error state
- `isIdle`: `boolean` - True if the mutation is in its initial idle state
- `isPending`: `boolean` - True if the mutation is currently executing
- `isSuccess`: `boolean` - True if the last mutation attempt was successful
- `failureCount`: `number` - The failure count for the mutation
- `failureReason`: `Error | null` - The failure reason for the mutation retry
- `isPaused`: `boolean` - True if the mutation has been paused
- `reset`: `() => void` - Function to reset the mutation to its initial state
- `status`: `'idle' | 'pending' | 'error' | 'success'` - Current status of the mutation
- `submittedAt`: `number` - Timestamp for when the mutation was submitted
- `variables`: `SubmitOtpCodeParameters | undefined` - The variables object passed to the mutation
