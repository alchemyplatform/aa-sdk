---
title: InMemorySink
description: In-memory sink for testing purposes. Captures all log entries in an array that can be inspected in tests.  **Note:** This is primarily intended for testing SDK integrations. Most applications should use the default console sink.
slug: wallets/reference/common/classes/InMemorySink
layout: reference
---

{/* This file is auto-generated by TypeDoc. Do not edit manually. */}

Defined in: [packages/common/src/logging/sinks.ts:34](https://github.com/alchemyplatform/aa-sdk/blob/0a825ddbbbae3b213cce3d75775aa11253736fd6/packages/common/src/logging/sinks.ts#L34)

In-memory sink for testing purposes.
Captures all log entries in an array that can be inspected in tests.

**Note:** This is primarily intended for testing SDK integrations.
Most applications should use the default console sink.

## Example

```ts
import {
  InMemorySink,
  setGlobalLoggerConfig,
  createLogger,
} from "@alchemy/common";

// In tests
const sink = new InMemorySink();

setGlobalLoggerConfig({
  sinks: [sink.sink],
});

const logger = createLogger({
  package: "@alchemy/aa-infra",
  version: "1.0.0",
  namespace: "aa-infra",
});

logger.info("test message");

// Inspect captured logs
expect(sink.count).toBe(1);
expect(sink.latest()?.message).toBe("test message");
```

## Constructors

### Constructor

```ts
new InMemorySink(): InMemorySink;
```

Defined in: [packages/common/src/logging/sinks.ts:44](https://github.com/alchemyplatform/aa-sdk/blob/0a825ddbbbae3b213cce3d75775aa11253736fd6/packages/common/src/logging/sinks.ts#L44)

Creates a new InMemorySink instance.
Binds the sink method to the instance for use as a callback.

#### Returns

`InMemorySink`

## Properties

<table>
  <thead>
    <tr>
      <th align="left">Property</th>
      <th align="left">Type</th>
      <th align="left">Default value</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        <a id="entries" /> `entries`
      </td>

      <td>
        `LogEntry`\[]
      </td>

      <td>
        `[]`
      </td>

      <td>
        Array of captured log entries
      </td>
    </tr>

  </tbody>
</table>

## Accessors

### count

#### Get Signature

```ts
get count(): number;
```

Defined in: [packages/common/src/logging/sinks.ts:112](https://github.com/alchemyplatform/aa-sdk/blob/0a825ddbbbae3b213cce3d75775aa11253736fd6/packages/common/src/logging/sinks.ts#L112)

Get the number of captured entries

##### Returns

`number`

The total count of captured log entries

## Methods

### clear()

```ts
clear(): void;
```

Defined in: [packages/common/src/logging/sinks.ts:64](https://github.com/alchemyplatform/aa-sdk/blob/0a825ddbbbae3b213cce3d75775aa11253736fd6/packages/common/src/logging/sinks.ts#L64)

Clear all captured entries

#### Returns

`void`

---

### getByLevel()

```ts
getByLevel(level): LogEntry[];
```

Defined in: [packages/common/src/logging/sinks.ts:74](https://github.com/alchemyplatform/aa-sdk/blob/0a825ddbbbae3b213cce3d75775aa11253736fd6/packages/common/src/logging/sinks.ts#L74)

Get entries filtered by log level

#### Parameters

<table>
  <thead>
    <tr>
      <th align="left">Parameter</th>
      <th align="left">Type</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `level`
      </td>

      <td>
        `number`
      </td>

      <td>
        The log level to filter by (LogLevel.ERROR, LogLevel.INFO, etc.)
      </td>
    </tr>

  </tbody>
</table>

#### Returns

`LogEntry`\[]

Array of log entries matching the specified level

---

### getByMessage()

```ts
getByMessage(substring): LogEntry[];
```

Defined in: [packages/common/src/logging/sinks.ts:94](https://github.com/alchemyplatform/aa-sdk/blob/0a825ddbbbae3b213cce3d75775aa11253736fd6/packages/common/src/logging/sinks.ts#L94)

Get entries filtered by message substring

#### Parameters

<table>
  <thead>
    <tr>
      <th align="left">Parameter</th>
      <th align="left">Type</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `substring`
      </td>

      <td>
        `string`
      </td>

      <td>
        The substring to search for in log messages
      </td>
    </tr>

  </tbody>
</table>

#### Returns

`LogEntry`\[]

Array of log entries containing the substring in their message

---

### getByNamespace()

```ts
getByNamespace(namespace): LogEntry[];
```

Defined in: [packages/common/src/logging/sinks.ts:84](https://github.com/alchemyplatform/aa-sdk/blob/0a825ddbbbae3b213cce3d75775aa11253736fd6/packages/common/src/logging/sinks.ts#L84)

Get entries filtered by namespace

#### Parameters

<table>
  <thead>
    <tr>
      <th align="left">Parameter</th>
      <th align="left">Type</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `namespace`
      </td>

      <td>
        `string`
      </td>

      <td>
        The namespace to filter by (e.g., "aa-infra", "wallet-apis")
      </td>
    </tr>

  </tbody>
</table>

#### Returns

`LogEntry`\[]

Array of log entries matching the specified namespace

---

### latest()

```ts
latest(): LogEntry | undefined;
```

Defined in: [packages/common/src/logging/sinks.ts:103](https://github.com/alchemyplatform/aa-sdk/blob/0a825ddbbbae3b213cce3d75775aa11253736fd6/packages/common/src/logging/sinks.ts#L103)

Get the most recent log entry

#### Returns

`LogEntry` | `undefined`

The latest log entry, or undefined if no entries have been captured

---

### sink()

```ts
sink(entry): void;
```

Defined in: [packages/common/src/logging/sinks.ts:55](https://github.com/alchemyplatform/aa-sdk/blob/0a825ddbbbae3b213cce3d75775aa11253736fd6/packages/common/src/logging/sinks.ts#L55)

The sink function to pass to setGlobalLoggerConfig.
Captures log entries into the internal array.

#### Parameters

<table>
  <thead>
    <tr>
      <th align="left">Parameter</th>
      <th align="left">Type</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `entry`
      </td>

      <td>
        `LogEntry`
      </td>

      <td>
        The log entry to capture
      </td>
    </tr>

  </tbody>
</table>

#### Returns

`void`
