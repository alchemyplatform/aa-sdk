---
title: BaseAlchemySigner
description: Base abstract class for Alchemy Signer, providing authentication and session management for smart accounts. Implements the `SmartAccountAuthenticator` interface and handles various signer events.
slug: wallets/reference/account-kit/signer/src/classes/BaseAlchemySigner
layout: reference
---

Defined in: [account-kit/signer/src/base.ts:119](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L119)

Base abstract class for Alchemy Signer, providing authentication and session management for smart accounts.
Implements the `SmartAccountAuthenticator` interface and handles various signer events.

## Extended by

- [`AlchemyWebSigner`](AlchemyWebSigner.mdx)

## Type Parameters

<table>
  <thead>
    <tr>
      <th align="left">Type Parameter</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `TClient` *extends* `BaseSignerClient`
      </td>
    </tr>
  </tbody>
</table>

## Implements

- `SmartAccountAuthenticator`\<`AuthParams`, [`User`](../type-aliases/User.mdx), `TClient`>

## Constructors

### Constructor

```ts
new BaseAlchemySigner<TClient>(param0): BaseAlchemySigner<TClient>;
```

Defined in: [account-kit/signer/src/base.ts:138](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L138)

Initializes an instance with the provided client and session configuration.
This function sets up the internal store, initializes the session manager,
registers listeners and initializes the session manager to manage session state.

#### Parameters

<table>
  <thead>
    <tr>
      <th align="left">Parameter</th>
      <th align="left">Type</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `param0`
      </td>

      <td>
        `BaseAlchemySignerParams`\<`TClient`>
      </td>

      <td>
        Object containing the client and session configuration
      </td>
    </tr>

  </tbody>
</table>

#### Returns

`BaseAlchemySigner`\<`TClient`>

## Properties

<table>
  <thead>
    <tr>
      <th align="left">Property</th>
      <th align="left">Type</th>
      <th align="left">Default value</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        <a id="addmfa" /> `addMfa`
      </td>

      <td>
        (`params`) => `Promise`\<[`AddMfaResult`](../type-aliases/AddMfaResult.mdx)>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Initiates the setup of a new MFA factor for the current user.
        The factor will need to be verified using verifyMfa before it becomes active.

        **Example**

        ```ts
        import { AlchemyWebSigner } from "@account-kit/signer";

        const signer = new AlchemyWebSigner({
         client: {
           connection: {
             rpcUrl: "/api/rpc",
           },
           iframeConfig: {
             iframeContainerId: "alchemy-signer-iframe-container",
           },
         },
        });

        const result = await signer.addMfa({ multiFactorType: "totp" });
        // Result contains multiFactorTotpUrl to display as QR code
        ```

        **Throws**

        If no user is authenticated
      </td>
    </tr>

    <tr>
      <td>
        <a id="addpasskey" /> `addPasskey`
      </td>

      <td>
        (`params?`) => `Promise`\<`string`\[]>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Adds a passkey to the user's account

        **Example**

        ```ts
        import { AlchemyWebSigner } from "@account-kit/signer";

        const signer = new AlchemyWebSigner({
         client: {
           connection: {
             rpcUrl: "/api/rpc",
           },
           iframeConfig: {
             iframeContainerId: "alchemy-signer-iframe-container",
           },
         },
        });

        const result = await signer.addPasskey()
        ```
      </td>
    </tr>

    <tr>
      <td>
        <a id="authenticate" /> `authenticate`
      </td>

      <td>
        (`params`) => `Promise`\<[`User`](../type-aliases/User.mdx)>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Authenticate a user with either an email or a passkey and create a session for that user

        **Example**

        ```ts
        import { AlchemyWebSigner } from "@account-kit/signer";

        const signer = new AlchemyWebSigner({
         client: {
           connection: {
             rpcUrl: "/api/rpc",
           },
           iframeConfig: {
             iframeContainerId: "alchemy-signer-iframe-container",
           },
         },
        });

        const result = await signer.authenticate({
         type: "email",
         email: "foo@mail.com",
        });
        ```
      </td>
    </tr>

    <tr>
      <td>
        <a id="disconnect" /> `disconnect`
      </td>

      <td>
        () => `Promise`\<`void`>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Clear a user session and log them out

        **Example**

        ```ts
        import { AlchemyWebSigner } from "@account-kit/signer";

        const signer = new AlchemyWebSigner({
         client: {
           connection: {
             rpcUrl: "/api/rpc",
           },
           iframeConfig: {
             iframeContainerId: "alchemy-signer-iframe-container",
           },
         },
        });

        await signer.disconnect();
        ```
      </td>
    </tr>

    <tr>
      <td>
        <a id="exportwallet" /> `exportWallet`
      </td>

      <td>
        `TClient`\[`"exportWallet"`]
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Used to export the wallet for a given user
        If the user is authenticated with an Email, this will return a seed phrase
        If the user is authenticated with a Passkey, this will return a private key

        **Example**

        ```ts
        import { AlchemyWebSigner } from "@account-kit/signer";

        const signer = new AlchemyWebSigner({
         client: {
           connection: {
             rpcUrl: "/api/rpc",
           },
           iframeConfig: {
             iframeContainerId: "alchemy-signer-iframe-container",
           },
         },
        });

        // the params passed to this are different based on the specific signer
        const result = signer.exportWallet()
        ```

        **Param**

        exportWallet parameters
      </td>
    </tr>

    <tr>
      <td>
        <a id="getaddress" /> `getAddress`
      </td>

      <td>
        () => `Promise`\<`` `0x${string}` ``>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Retrieves the address of the current user by calling the `whoami` method on `this.inner`.
      </td>
    </tr>

    <tr>
      <td>
        <a id="getmfafactors" /> `getMfaFactors`
      </td>

      <td>
        () => `Promise`\<\{ `multiFactors`: [`MfaFactor`](../type-aliases/MfaFactor.mdx)\[]; }>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Retrieves the list of MFA factors configured for the current user.

        **Example**

        ```ts
        import { AlchemyWebSigner } from "@account-kit/signer";

        const signer = new AlchemyWebSigner({
         client: {
           connection: {
             rpcUrl: "/api/rpc",
           },
           iframeConfig: {
             iframeContainerId: "alchemy-signer-iframe-container",
           },
         },
        });

        const { multiFactors } = await signer.getMfaFactors();
        ```

        **Throws**

        If no user is authenticated
      </td>
    </tr>

    <tr>
      <td>
        <a id="getpasskeystatus" /> `getPasskeyStatus`
      </td>

      <td>
        () => `Promise`\<\{ `isPasskeyAdded`: `boolean`; }>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        <a id="inner" /> `inner`
      </td>

      <td>
        `TClient`
      </td>

      <td>
        `undefined`
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        <a id="removeemail" /> `removeEmail`
      </td>

      <td>
        () => `Promise`\<`void`>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Removes the email for the authenticated user, disallowing them from login with that email.

        **Throws**

        If the user is not authenticated
      </td>
    </tr>

    <tr>
      <td>
        <a id="removemfa" /> `removeMfa`
      </td>

      <td>
        (`params`) => `Promise`\<\{ `multiFactors`: [`MfaFactor`](../type-aliases/MfaFactor.mdx)\[]; }>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Removes existing MFA factors by their IDs.

        **Example**

        ```ts
        import { AlchemyWebSigner } from "@account-kit/signer";

        const signer = new AlchemyWebSigner({
         client: {
           connection: {
             rpcUrl: "/api/rpc",
           },
           iframeConfig: {
             iframeContainerId: "alchemy-signer-iframe-container",
           },
         },
        });

        const result = await signer.removeMfa({
          multiFactorIds: ["factor-id-1", "factor-id-2"]
        });
        ```

        **Throws**

        If no user is authenticated
      </td>
    </tr>

    <tr>
      <td>
        <a id="removepasskey" /> `removePasskey`
      </td>

      <td>
        (`authenticatorId`) => `Promise`\<`void`>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Removes a passkey from a user's account

        **Example**

        ```ts
        import { AlchemyWebSigner } from "@account-kit/signer";

        const signer = new AlchemyWebSigner({
         client: {
           connection: {
             rpcUrl: "/api/rpc",
           },
           iframeConfig: {
             iframeContainerId: "alchemy-signer-iframe-container",
           },
         },
        });

        const authMethods = await signer.listAuthMethods();
        const passkey = authMethods.passkeys[0];

        const result = await signer.removePasskey(passkey.authenticatorId);
        ```
      </td>
    </tr>

    <tr>
      <td>
        <a id="removephonenumber" /> `removePhoneNumber`
      </td>

      <td>
        () => `Promise`\<`void`>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Removes the phone number for the authenticated user, disallowing them from login with that phone number.

        **Throws**

        If the user is not authenticated
      </td>
    </tr>

    <tr>
      <td>
        <a id="sendverificationcode" /> `sendVerificationCode`
      </td>

      <td>
        (`type`, `contact`) => `Promise`\<\{ `otpId`: `string`; }>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Initiates an OTP (One-Time Password) verification process for a user contact.
        Use this method before calling `setEmail` with verification code to verify ownership of the email address.

        **Throws**

        If the user is not authenticated
      </td>
    </tr>

    <tr>
      <td>
        <a id="setphonenumber" /> `setPhoneNumber`
      </td>

      <td>
        (`params`) => `Promise`\<`void`>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Sets the phone number for the authenticated user, allowing them to login with that
        phone number. `sendVerificationCode` should be called first to obtain the code.

        **Throws**

        If the user is not authenticated
      </td>
    </tr>

    <tr>
      <td>
        <a id="signauthorization" /> `signAuthorization`
      </td>

      <td>
        (`unsignedAuthorization`) => `Promise`\<`SignedAuthorization`\<`number`>>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Signs an EIP-7702 Authorization and then returns the authorization with the signature.

        **Example**

        ```ts twoslash
        import { AlchemyWebSigner } from "@account-kit/signer";

        const signer = new AlchemyWebSigner({
         client: {
           connection: {
             rpcUrl: "/api/rpc",
           },
           iframeConfig: {
             iframeContainerId: "alchemy-signer-iframe-container",
           },
         },
        });

        const tx = await signer.signAuthorization({
         contractAddress: "0x1234123412341234123412341234123412341234",
         chainId: 1,
         nonce: 0,
        });
        ```
      </td>
    </tr>

    <tr>
      <td>
        <a id="signertype" /> `signerType`
      </td>

      <td>
        `"alchemy-signer"` | `"rn-alchemy-signer"`
      </td>

      <td>
        `"alchemy-signer"`
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        <a id="signmessage" /> `signMessage`
      </td>

      <td>
        (`msg`) => `Promise`\<`` `0x${string}` ``>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Signs a raw message after hashing it.

        **Example**

        ```ts
        import { AlchemyWebSigner } from "@account-kit/signer";

        const signer = new AlchemyWebSigner({
         client: {
           connection: {
             rpcUrl: "/api/rpc",
           },
           iframeConfig: {
             iframeContainerId: "alchemy-signer-iframe-container",
           },
         },
        });

        const signature = await signer.signMessage("Hello, world!");
        ```
      </td>
    </tr>

    <tr>
      <td>
        <a id="signtransaction" /> `signTransaction`
      </td>

      <td>
        \<`serializer`, `transaction`>(`transaction`, `options?`) => `Promise`\<`IsNarrowable`\<`TransactionSerialized`\<`GetTransactionType`\<`transaction`>>, `` `0x${string}` ``> *extends* `true` ? `TransactionSerialized`\<`GetTransactionType`\<`transaction`>> : `` `0x${string}` ``>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Serializes a transaction, signs it with a raw message, and then returns the serialized transaction with the signature.

        **Example**

        ```ts
        import { AlchemyWebSigner } from "@account-kit/signer";

        const signer = new AlchemyWebSigner({
         client: {
           connection: {
             rpcUrl: "/api/rpc",
           },
           iframeConfig: {
             iframeContainerId: "alchemy-signer-iframe-container",
           },
         },
        });

        const tx = await signer.signTransaction({
         to: "0x1234",
         value: "0x1234",
         data: "0x1234",
        });
        ```
      </td>
    </tr>

    <tr>
      <td>
        <a id="signtypeddata" /> `signTypedData`
      </td>

      <td>
        \<`TTypedData`, `TPrimaryType`>(`params`) => `Promise`\<`` `0x${string}` ``>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Signs a typed message by first hashing it and then signing the hashed message using the `signRawMessage` method.

        **Example**

        ```ts
        import { AlchemyWebSigner } from "@account-kit/signer";

        const signer = new AlchemyWebSigner({
         client: {
           connection: {
             rpcUrl: "/api/rpc",
           },
           iframeConfig: {
             iframeContainerId: "alchemy-signer-iframe-container",
           },
         },
        });

        const signature = await signer.signTypedData({
         domain: {},
         types: {},
         primaryType: "",
         message: {},
        });
        ```
      </td>
    </tr>

    <tr>
      <td>
        <a id="verifymfa" /> `verifyMfa`
      </td>

      <td>
        (`params`) => `Promise`\<\{ `multiFactors`: [`MfaFactor`](../type-aliases/MfaFactor.mdx)\[]; }>
      </td>

      <td>
        `undefined`
      </td>

      <td>
        Verifies a newly created MFA factor to complete the setup process.

        **Example**

        ```ts
        import { AlchemyWebSigner } from "@account-kit/signer";

        const signer = new AlchemyWebSigner({
         client: {
           connection: {
             rpcUrl: "/api/rpc",
           },
           iframeConfig: {
             iframeContainerId: "alchemy-signer-iframe-container",
           },
         },
        });

        const result = await signer.verifyMfa({
          multiFactorId: "factor-id",
          multiFactorCode: "123456" // 6-digit code from authenticator app
        });
        ```

        **Throws**

        If no user is authenticated
      </td>
    </tr>

  </tbody>
</table>

## Methods

### addOauthProvider()

```ts
addOauthProvider(args): Promise<OauthProviderInfo>;
```

Defined in: [account-kit/signer/src/base.ts:1260](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L1260)

Handles OAuth authentication by augmenting the provided arguments with a type and performing authentication based on the OAuth mode (either using redirect or popup).

#### Parameters

<table>
  <thead>
    <tr>
      <th align="left">Parameter</th>
      <th align="left">Type</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `args`
      </td>

      <td>
        `Omit`\<`Extract`\<`AuthParams`, \{ `type`: `"oauth"`; }>, `"type"`>
      </td>

      <td>
        Authentication parameters omitting the type, which will be set to "oauth"
      </td>
    </tr>

  </tbody>
</table>

#### Returns

`Promise`\<[`OauthProviderInfo`](../type-aliases/OauthProviderInfo.mdx)>

A promise that resolves to an `OauthProviderInfo` object containing provider information and the ID token.

---

### fetchConfig()

```ts
protected fetchConfig(): Promise<SignerConfig>;
```

Defined in: [account-kit/signer/src/base.ts:1882](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L1882)

#### Returns

`Promise`\<`SignerConfig`>

---

### getAuthDetails()

```ts
getAuthDetails(): Promise<User>;
```

Defined in: [account-kit/signer/src/base.ts:479](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L479)

Gets the current logged in user
If a user has an ongoing session, it will use that session and
try to authenticate

#### Example

```ts
import { AlchemyWebSigner } from "@account-kit/signer";

const signer = new AlchemyWebSigner({
  client: {
    connection: {
      rpcUrl: "/api/rpc",
    },
    iframeConfig: {
      iframeContainerId: "alchemy-signer-iframe-container",
    },
  },
});

// throws if not logged in
const user = await signer.getAuthDetails();
```

#### Returns

`Promise`\<[`User`](../type-aliases/User.mdx)>

the current user

#### Throws

if there is no user logged in

#### Implementation of

```ts
SmartAccountAuthenticator.getAuthDetails;
```

---

### getConfig()

```ts
getConfig(): Promise<SignerConfig>;
```

Defined in: [account-kit/signer/src/base.ts:1874](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L1874)

Returns the signer configuration while fetching it if it's not already initialized.

#### Returns

`Promise`\<`SignerConfig`>

A promise that resolves to the signer configuration

---

### getMfaStatus()

```ts
getMfaStatus(): object;
```

Defined in: [account-kit/signer/src/base.ts:719](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L719)

Gets the current MFA status

#### Example

```ts
import { AlchemyWebSigner } from "@account-kit/signer";

const signer = new AlchemyWebSigner({
  client: {
    connection: {
      rpcUrl: "/api/rpc",
    },
    iframeConfig: {
      iframeContainerId: "alchemy-signer-iframe-container",
    },
  },
});

const mfaStatus = signer.getMfaStatus();
if (mfaStatus === AlchemyMfaStatus.REQUIRED) {
  // Handle MFA requirement
}
```

#### Returns

`object`

The current MFA status

<table>
  <thead>
    <tr>
      <th align="left">Name</th>
      <th align="left">Type</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `mfaFactorId?`
      </td>

      <td>
        `string`
      </td>
    </tr>

    <tr>
      <td>
        `mfaRequired`
      </td>

      <td>
        `boolean`
      </td>
    </tr>

  </tbody>
</table>

---

### getUser()

Unauthenticated call to look up a user's organizationId by email or phone

#### Example

```ts
import { AlchemyWebSigner } from "@account-kit/signer";

const signer = new AlchemyWebSigner({
  client: {
    connection: {
      rpcUrl: "/api/rpc",
    },
    iframeConfig: {
      iframeContainerId: "alchemy-signer-iframe-container",
    },
  },
});

const result = await signer.getUser({ type: "email", value: "foo@mail.com" });
```

#### Param

the params to look up

#### Call Signature

```ts
getUser(email): Promise<
  | null
  | {
  orgId: string;
}>;
```

Defined in: [account-kit/signer/src/base.ts:752](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L752)

Unauthenticated call to look up a user's organizationId by email

##### Deprecated

Use getUser(\{ type: "email", value: email }) instead

##### Example

```ts
import { AlchemyWebSigner } from "@account-kit/signer";

const signer = new AlchemyWebSigner({
  client: {
    connection: {
      rpcUrl: "/api/rpc",
    },
    iframeConfig: {
      iframeContainerId: "alchemy-signer-iframe-container",
    },
  },
});

const result = await signer.getUser("foo@mail.com");
```

##### Parameters

<table>
  <thead>
    <tr>
      <th align="left">Parameter</th>
      <th align="left">Type</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `email`
      </td>

      <td>
        `string`
      </td>

      <td>
        the email to lookup
      </td>
    </tr>

  </tbody>
</table>

##### Returns

`Promise`\<
| `null`
| \{
`orgId`: `string`;
}>

the organization id for the user if they exist

#### Call Signature

```ts
getUser(params): Promise<
  | null
  | {
  orgId: string;
}>;
```

Defined in: [account-kit/signer/src/base.ts:777](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L777)

Unauthenticated call to look up a user's organizationId by email or phone

##### Example

```ts
import { AlchemyWebSigner } from "@account-kit/signer";

const signer = new AlchemyWebSigner({
  client: {
    connection: {
      rpcUrl: "/api/rpc",
    },
    iframeConfig: {
      iframeContainerId: "alchemy-signer-iframe-container",
    },
  },
});

const result = await signer.getUser({ type: "email", value: "foo@mail.com" });
```

##### Parameters

<table>
  <thead>
    <tr>
      <th align="left">Parameter</th>
      <th align="left">Type</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `params`
      </td>

      <td>
        `GetUserParams`
      </td>
    </tr>

  </tbody>
</table>

##### Returns

`Promise`\<
| `null`
| \{
`orgId`: `string`;
}>

the organization id for the user if they exist

---

### initConfig()

```ts
protected initConfig(): Promise<SignerConfig>;
```

Defined in: [account-kit/signer/src/base.ts:1864](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L1864)

#### Returns

`Promise`\<`SignerConfig`>

---

### listAuthMethods()

```ts
listAuthMethods(): Promise<AuthMethods>;
```

Defined in: [account-kit/signer/src/base.ts:1305](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L1305)

Retrieves a list of auth methods associated with the authenticated user.

#### Returns

`Promise`\<[`AuthMethods`](../type-aliases/AuthMethods.mdx)>

A promise that resolves to an `AuthMethods` object containing the user's email, OAuth providers, and passkeys.

#### Throws

Thrown if the user is not authenticated

---

### on()

```ts
on<E>(event, listener): () => void;
```

Defined in: [account-kit/signer/src/base.ts:183](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L183)

Allows you to subscribe to events emitted by the signer

#### Type Parameters

<table>
  <thead>
    <tr>
      <th align="left">Type Parameter</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `E` *extends* keyof [`AlchemySignerEvents`](../type-aliases/AlchemySignerEvents.mdx)
      </td>
    </tr>
  </tbody>
</table>

#### Parameters

<table>
  <thead>
    <tr>
      <th align="left">Parameter</th>
      <th align="left">Type</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `event`
      </td>

      <td>
        `E`
      </td>

      <td>
        the event to subscribe to
      </td>
    </tr>

    <tr>
      <td>
        `listener`
      </td>

      <td>
        [`AlchemySignerEvents`](../type-aliases/AlchemySignerEvents.mdx)\[`E`]
      </td>

      <td>
        the function to run when the event is emitted
      </td>
    </tr>

  </tbody>
</table>

#### Returns

a function to remove the listener

```ts
(): void;
```

##### Returns

`void`

---

### preparePopupOauth()

```ts
preparePopupOauth(): Promise<OauthConfig>;
```

Defined in: [account-kit/signer/src/base.ts:285](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L285)

Prepares the config needed to use popup-based OAuth login. This must be
called before calling `.authenticate` with params `{ type: "oauth", mode:
"popup" }`, and is recommended to be called on page load.

This method exists because browsers may prevent popups from opening unless
triggered by user interaction, and so the OAuth config must already have
been fetched at the time a user clicks a social login button.

#### Example

```ts
import { AlchemyWebSigner } from "@account-kit/signer";

const signer = new AlchemyWebSigner({
  client: {
    connection: {
      rpcUrl: "/api/rpc",
    },
    iframeConfig: {
      iframeContainerId: "alchemy-signer-iframe-container",
    },
  },
});

await signer.preparePopupOauth();
```

#### Returns

`Promise`\<[`OauthConfig`](../type-aliases/OauthConfig.mdx)>

the config which must be loaded before
using popup-based OAuth

---

### removeOauthProvider()

```ts
removeOauthProvider(providerId): Promise<any>;
```

Defined in: [account-kit/signer/src/base.ts:1292](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L1292)

Removes an OAuth provider by its ID if the user is authenticated.

#### Parameters

<table>
  <thead>
    <tr>
      <th align="left">Parameter</th>
      <th align="left">Type</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `providerId`
      </td>

      <td>
        `string`
      </td>

      <td>
        The ID of the OAuth provider to be removed, as obtained from `listOauthProviders`
      </td>
    </tr>

  </tbody>
</table>

#### Returns

`Promise`\<`any`>

A promise indicating the result of the removal process

#### Throws

Thrown if the user is not authenticated

---

### setEmail()

Implementation for setEmail method.

#### Param

An object containing the verificationCode (or simply an email for legacy usage)

#### Call Signature

```ts
setEmail(email): Promise<string>;
```

Defined in: [account-kit/signer/src/base.ts:842](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L842)

Sets the email for the authenticated user, allowing them to login with that
email.

##### Deprecated

You must contact Alchemy to enable this feature for your team,
as there are important security considerations. In particular, you must not
call this without first validating that the user owns this email account.
It is recommended to now use the email verification flow instead.

##### Parameters

<table>
  <thead>
    <tr>
      <th align="left">Parameter</th>
      <th align="left">Type</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `email`
      </td>

      <td>
        `string`
      </td>

      <td>
        The email to set for the user
      </td>
    </tr>

  </tbody>
</table>

##### Returns

`Promise`\<`string`>

A promise that resolves to the updated email address

##### Throws

If the user is not authenticated

#### Call Signature

```ts
setEmail(params): Promise<string>;
```

Defined in: [account-kit/signer/src/base.ts:854](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L854)

Uses a verification code to update a user's email, allowing them to login
with that email. `sendVerificationCode` should be called first to obtain
the code.

##### Parameters

<table>
  <thead>
    <tr>
      <th align="left">Parameter</th>
      <th align="left">Type</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `params`
      </td>

      <td>
        `VerificationParams`
      </td>

      <td>
        An object containing the verification code
      </td>
    </tr>

  </tbody>
</table>

##### Returns

`Promise`\<`string`>

A promise that resolves to the updated email address

##### Throws

If the user is not authenticated

---

### toSolanaSigner()

```ts
toSolanaSigner(): SolanaSigner;
```

Defined in: [account-kit/signer/src/base.ts:1123](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L1123)

Creates a new instance of `SolanaSigner` using the provided inner value.
This requires the signer to be authenticated first

#### Example

```ts
import { AlchemyWebSigner } from "@account-kit/signer";

const signer = new AlchemyWebSigner({
  client: {
    connection: {
      rpcUrl: "/api/rpc",
    },
    iframeConfig: {
      iframeContainerId: "alchemy-signer-iframe-container",
    },
  },
});

const solanaSigner = signer.toSolanaSigner();
```

#### Returns

[`SolanaSigner`](SolanaSigner.mdx)

A new instance of `SolanaSigner`

---

### toViemAccount()

```ts
toViemAccount(): object;
```

Defined in: [account-kit/signer/src/base.ts:1079](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L1079)

This method lets you adapt your AlchemySigner to a viem LocalAccount, which
will let you use the signer as an EOA directly.

#### Example

```ts
import { AlchemyWebSigner } from "@account-kit/signer";

const signer = new AlchemyWebSigner({
  client: {
    connection: {
      rpcUrl: "/api/rpc",
    },
    iframeConfig: {
      iframeContainerId: "alchemy-signer-iframe-container",
    },
  },
});

const account = signer.toViemAccount();
```

#### Returns

`object`

a LocalAccount object that can be used with viem's wallet client

<table>
  <thead>
    <tr>
      <th align="left">Name</th>
      <th align="left">Type</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `address`
      </td>

      <td>
        `` `0x${string}` ``
      </td>
    </tr>

    <tr>
      <td>
        `nonceManager?`
      </td>

      <td>
        `NonceManager`
      </td>
    </tr>

    <tr>
      <td>
        `publicKey`
      </td>

      <td>
        `` `0x${string}` ``
      </td>
    </tr>

    <tr>
      <td>
        `sign()?`
      </td>

      <td>
        (`parameters`) => `Promise`\<`` `0x${string}` ``>
      </td>
    </tr>

    <tr>
      <td>
        `signAuthorization()?`
      </td>

      <td>
        (`parameters`) => `Promise`\<`SignAuthorizationReturnType`>
      </td>
    </tr>

    <tr>
      <td>
        `signMessage()`
      </td>

      <td>
        (`__namedParameters`) => `Promise`\<`` `0x${string}` ``>
      </td>
    </tr>

    <tr>
      <td>
        `signTransaction()`
      </td>

      <td>
        \<`serializer`, `transaction`>(`transaction`, `options?`) => `Promise`\<`IsNarrowable`\<`TransactionSerialized`\<`GetTransactionType`\<`transaction`>>, `` `0x${string}` ``> *extends* `true` ? `TransactionSerialized`\<`GetTransactionType`\<`transaction`>> : `` `0x${string}` ``>
      </td>
    </tr>

    <tr>
      <td>
        `signTypedData()`
      </td>

      <td>
        \<`typedData`, `primaryType`>(`parameters`) => `Promise`\<`` `0x${string}` ``>
      </td>
    </tr>

    <tr>
      <td>
        `source`
      </td>

      <td>
        `string`
      </td>
    </tr>

    <tr>
      <td>
        `type`
      </td>

      <td>
        `"local"`
      </td>
    </tr>

  </tbody>
</table>

#### Throws

if your signer is not authenticated

---

### validateMultiFactors()

```ts
validateMultiFactors(params): Promise<User>;
```

Defined in: [account-kit/signer/src/base.ts:1805](https://github.com/alchemyplatform/aa-sdk/blob/e3c1a23e6e03f44bf2db3afddb97a91b175cba58/account-kit/signer/src/base.ts#L1805)

Validates MFA factors that were required during authentication.
This function should be called after MFA is required and the user has provided their MFA code.
It completes the authentication process by validating the MFA factors and completing the auth bundle.

#### Example

```ts
import { AlchemyWebSigner } from "@account-kit/signer";

const signer = new AlchemyWebSigner({
  client: {
    connection: {
      rpcUrl: "/api/rpc",
    },
    iframeConfig: {
      iframeContainerId: "alchemy-signer-iframe-container",
    },
  },
});

// After MFA is required and user provides code
const user = await signer.validateMultiFactors({
  multiFactorCode: "123456", // 6-digit code from authenticator app
  multiFactorId: "factor-id",
});
```

#### Parameters

<table>
  <thead>
    <tr>
      <th align="left">Parameter</th>
      <th align="left">Type</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `params`
      </td>

      <td>
        [`ValidateMultiFactorsArgs`](../type-aliases/ValidateMultiFactorsArgs.mdx)
      </td>

      <td>
        Parameters for validating MFA factors
      </td>
    </tr>

  </tbody>
</table>

#### Returns

`Promise`\<[`User`](../type-aliases/User.mdx)>

A promise that resolves to the authenticated user

#### Throws

If there is no pending MFA context or if orgId is not found
