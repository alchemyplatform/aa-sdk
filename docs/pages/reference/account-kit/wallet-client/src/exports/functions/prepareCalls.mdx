---
title: prepareCalls
description: Overview of the prepareCalls function
slug: wallets/reference/account-kit/wallet-client/src/exports/functions/prepareCalls
layout: reference
---

{/* This file is auto-generated by TypeDoc. Do not edit manually. */}

```ts
function prepareCalls<TAccount>(client, params): Promise<
  | {
  data: (
     | {
     chainId: `0x${string}`;
     data: {
        callData: `0x${string}`;
        callGasLimit: `0x${string}`;
        initCode: `0x${string}`;
        maxFeePerGas: `0x${string}`;
        maxPriorityFeePerGas: `0x${string}`;
        nonce: `0x${string}`;
        paymasterAndData: `0x${string}`;
        preVerificationGas: `0x${string}`;
        sender: `0x${string}`;
        verificationGasLimit: `0x${string}`;
     };
     feePayment: {
        maxAmount: `0x${string}`;
        sponsored: boolean;
        tokenAddress: `0x${string}`;
     };
     signatureRequest?:   | {
        data:   | string
           | {
           raw: `0x${(...)}`;
         };
        rawPayload: `0x${string}`;
        type: "personal_sign";
      }
        | {
        data: {
           domain?: {
              chainId?: ...;
              name?: ...;
              salt?: ...;
              verifyingContract?: ...;
              version?: ...;
           };
           message: {
            [key: string]: unknown;
           };
           primaryType: string;
           types: {
            [key: string]: ...[];
           };
        };
        rawPayload: `0x${string}`;
        type: "eth_signTypedData_v4";
      };
     type: "user-operation-v060";
   }
     | {
     chainId: `0x${string}`;
     data: {
        callData: `0x${string}`;
        callGasLimit: `0x${string}`;
        factory?: `0x${string}`;
        factoryData?: `0x${string}`;
        maxFeePerGas: `0x${string}`;
        maxPriorityFeePerGas: `0x${string}`;
        nonce: `0x${string}`;
        paymaster?: `0x${string}`;
        paymasterData?: `0x${string}`;
        paymasterPostOpGasLimit?: `0x${string}`;
        paymasterVerificationGasLimit?: `0x${string}`;
        preVerificationGas: `0x${string}`;
        sender: `0x${string}`;
        verificationGasLimit: `0x${string}`;
     };
     feePayment: {
        maxAmount: `0x${string}`;
        sponsored: boolean;
        tokenAddress: `0x${string}`;
     };
     signatureRequest?:   | {
        data:   | string
           | {
           raw: `0x${(...)}`;
         };
        rawPayload: `0x${string}`;
        type: "personal_sign";
      }
        | {
        data: {
           domain?: {
              chainId?: ...;
              name?: ...;
              salt?: ...;
              verifyingContract?: ...;
              version?: ...;
           };
           message: {
            [key: string]: unknown;
           };
           primaryType: string;
           types: {
            [key: string]: ...[];
           };
        };
        rawPayload: `0x${string}`;
        type: "eth_signTypedData_v4";
      };
     type: "user-operation-v070";
   }
     | {
     chainId: `0x${string}`;
     data: {
        address: `0x${string}`;
        nonce: `0x${string}`;
     };
     signatureRequest: {
        rawPayload: `0x${string}`;
        type: "eip7702Auth";
     };
     type: "authorization";
  })[];
  type: "array";
}
  | {
  chainId: `0x${string}`;
  data: {
     callData: `0x${string}`;
     callGasLimit: `0x${string}`;
     initCode: `0x${string}`;
     maxFeePerGas: `0x${string}`;
     maxPriorityFeePerGas: `0x${string}`;
     nonce: `0x${string}`;
     paymasterAndData: `0x${string}`;
     preVerificationGas: `0x${string}`;
     sender: `0x${string}`;
     verificationGasLimit: `0x${string}`;
  };
  feePayment: {
     maxAmount: `0x${string}`;
     sponsored: boolean;
     tokenAddress: `0x${string}`;
  };
  signatureRequest?:   | {
     data:   | string
        | {
        raw: `0x${string}`;
      };
     rawPayload: `0x${string}`;
     type: "personal_sign";
   }
     | {
     data: {
        domain?: {
           chainId?: number;
           name?: string;
           salt?: `0x${string}`;
           verifyingContract?: `0x${string}`;
           version?: string;
        };
        message: {
         [key: string]: unknown;
        };
        primaryType: string;
        types: {
         [key: string]: object[];
        };
     };
     rawPayload: `0x${string}`;
     type: "eth_signTypedData_v4";
   };
  type: "user-operation-v060";
}
  | {
  chainId: `0x${string}`;
  data: {
     callData: `0x${string}`;
     callGasLimit: `0x${string}`;
     factory?: `0x${string}`;
     factoryData?: `0x${string}`;
     maxFeePerGas: `0x${string}`;
     maxPriorityFeePerGas: `0x${string}`;
     nonce: `0x${string}`;
     paymaster?: `0x${string}`;
     paymasterData?: `0x${string}`;
     paymasterPostOpGasLimit?: `0x${string}`;
     paymasterVerificationGasLimit?: `0x${string}`;
     preVerificationGas: `0x${string}`;
     sender: `0x${string}`;
     verificationGasLimit: `0x${string}`;
  };
  feePayment: {
     maxAmount: `0x${string}`;
     sponsored: boolean;
     tokenAddress: `0x${string}`;
  };
  signatureRequest?:   | {
     data:   | string
        | {
        raw: `0x${string}`;
      };
     rawPayload: `0x${string}`;
     type: "personal_sign";
   }
     | {
     data: {
        domain?: {
           chainId?: number;
           name?: string;
           salt?: `0x${string}`;
           verifyingContract?: `0x${string}`;
           version?: string;
        };
        message: {
         [key: string]: unknown;
        };
        primaryType: string;
        types: {
         [key: string]: object[];
        };
     };
     rawPayload: `0x${string}`;
     type: "eth_signTypedData_v4";
   };
  type: "user-operation-v070";
}
  | {
  data: {
     domain?: {
        chainId?: number;
        name?: string;
        salt?: `0x${string}`;
        verifyingContract?: `0x${string}`;
        version?: string;
     };
     message: {
      [key: string]: unknown;
     };
     primaryType: string;
     types: {
      [key: string]: object[];
     };
  };
  modifiedRequest: {
     calls: object[];
     capabilities?: {
        eip7702Auth?:   | true
           | {
           account?: `0x${string}`;
           delegation: "ModularAccountV2" | "0x69007702764179f14F51cdce752f4f775d74E139";
         };
        gasParamsOverride?: {
           callGasLimit?:   | `0x${string}`
              | {
              multiplier: number;
            };
           maxFeePerGas?:   | `0x${string}`
              | {
              multiplier: number;
            };
           maxPriorityFeePerGas?:   | `0x${string}`
              | {
              multiplier: number;
            };
           paymasterPostOpGasLimit?:   | `0x${string}`
              | {
              multiplier: number;
            };
           paymasterVerificationGasLimit?:   | `0x${string}`
              | {
              multiplier: number;
            };
           preVerificationGas?:   | `0x${string}`
              | {
              multiplier: number;
            };
           verificationGasLimit?:   | `0x${string}`
              | {
              multiplier: number;
            };
        };
        nonceOverride?: {
           nonceKey: `0x${string}`;
        };
        paymasterService?: ({ policyId: string; } | { policyIds: string[]; }) & { onlyEstimation?: boolean | undefined; erc20?: ({ maxTokenAmount?: `0x${string}` | undefined; tokenAddress: `0x${string}`; } & ({ preOpSettings: { ...; } | { ...; }; } | { ...; } | {})) | undefined; };
        permissions?:   | {
           context: `0x${string}`;
         }
           | {
           sessionId: `0x${string}`;
           signature: `0x${string}`;
         };
     };
     chainId: `0x${string}`;
     from: `0x${string}`;
     paymasterPermitSignature?:   | {
        data:   | `0x${string}`
           | {
           r: `0x${string}`;
           s: `0x${string}`;
           yParity: `0x${string}`;
         }
           | {
           r: `0x${string}`;
           s: `0x${string}`;
           v: `0x${string}`;
         };
        type: "secp256k1";
      }
        | {
        data:   | `0x${string}`
           | {
           r: `0x${string}`;
           s: `0x${string}`;
           yParity: `0x${string}`;
         }
           | {
           r: `0x${string}`;
           s: `0x${string}`;
           v: `0x${string}`;
         };
        type: "ecdsa";
      };
  };
  signatureRequest: {
     data: {
        domain?: {
           chainId?: number;
           name?: string;
           salt?: `0x${string}`;
           verifyingContract?: `0x${string}`;
           version?: string;
        };
        message: {
         [key: string]: unknown;
        };
        primaryType: string;
        types: {
         [key: string]: object[];
        };
     };
     rawPayload: `0x${string}`;
     type: "eth_signTypedData_v4";
  };
  type: "paymaster-permit";
}>;
```

Defined in: [account-kit/wallet-client/src/client/actions/prepareCalls.ts:55](https://github.com/alchemyplatform/aa-sdk/blob/9df5be8c23af4e472bcb503c17766b16da0ad87d/account-kit/wallet-client/src/client/actions/prepareCalls.ts#L55)

Prepares a set of contract calls for execution by building a user operation.
Returns the built user operation and a signature request that needs to be signed
before submitting to sendPreparedCalls.

## Example

```ts
// Prepare a sponsored user operation call
const result = await client.prepareCalls({
  calls: [
    {
      to: "0x1234...",
      data: "0xabcdef...",
      value: "0x0",
    },
  ],
  capabilities: {
    paymasterService: { policyId: "your-policy-id" },
  },
});
```

## Type Parameters

<table>
  <thead>
    <tr>
      <th align="left">Type Parameter</th>
      <th align="left">Default type</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `TAccount` *extends* `undefined` | `` `0x${string}` ``
      </td>

      <td>
        `undefined` | `` `0x${string}` ``
      </td>
    </tr>

  </tbody>
</table>

## Parameters

<table>
  <thead>
    <tr>
      <th align="left">Parameter</th>
      <th align="left">Type</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        `client`
      </td>

      <td>
        `InnerWalletApiClient`
      </td>

      <td>
        The wallet API client to use for the request
      </td>
    </tr>

    <tr>
      <td>
        `params`
      </td>

      <td>
        `PrepareCallsParams`\<`TAccount`>
      </td>

      <td>
        Parameters for preparing calls
      </td>
    </tr>

  </tbody>
</table>

## Returns

`Promise`\<
| \{
`data`: (
| \{
`chainId`: `` `0x${string}` ``;
`data`: \{
`callData`: `` `0x${string}` ``;
`callGasLimit`: `` `0x${string}` ``;
`initCode`: `` `0x${string}` ``;
`maxFeePerGas`: `` `0x${string}` ``;
`maxPriorityFeePerGas`: `` `0x${string}` ``;
`nonce`: `` `0x${string}` ``;
`paymasterAndData`: `` `0x${string}` ``;
`preVerificationGas`: `` `0x${string}` ``;
`sender`: `` `0x${string}` ``;
`verificationGasLimit`: `` `0x${string}` ``;
};
`feePayment`: \{
`maxAmount`: `` `0x${string}` ``;
`sponsored`: `boolean`;
`tokenAddress`: `` `0x${string}` ``;
};
`signatureRequest?`: | \{
`data`: | `string`
| \{
`raw`: `` `0x${(...)}` ``;
};
`rawPayload`: `` `0x${string}` ``;
`type`: `"personal_sign"`;
}
| \{
`data`: \{
`domain?`: \{
`chainId?`: ...;
`name?`: ...;
`salt?`: ...;
`verifyingContract?`: ...;
`version?`: ...;
};
`message`: \{
\[`key`: `string`]: `unknown`;
};
`primaryType`: `string`;
`types`: \{
\[`key`: `string`]: ...\[];
};
};
`rawPayload`: `` `0x${string}` ``;
`type`: `"eth_signTypedData_v4"`;
};
`type`: `"user-operation-v060"`;
}
| \{
`chainId`: `` `0x${string}` ``;
`data`: \{
`callData`: `` `0x${string}` ``;
`callGasLimit`: `` `0x${string}` ``;
`factory?`: `` `0x${string}` ``;
`factoryData?`: `` `0x${string}` ``;
`maxFeePerGas`: `` `0x${string}` ``;
`maxPriorityFeePerGas`: `` `0x${string}` ``;
`nonce`: `` `0x${string}` ``;
`paymaster?`: `` `0x${string}` ``;
`paymasterData?`: `` `0x${string}` ``;
`paymasterPostOpGasLimit?`: `` `0x${string}` ``;
`paymasterVerificationGasLimit?`: `` `0x${string}` ``;
`preVerificationGas`: `` `0x${string}` ``;
`sender`: `` `0x${string}` ``;
`verificationGasLimit`: `` `0x${string}` ``;
};
`feePayment`: \{
`maxAmount`: `` `0x${string}` ``;
`sponsored`: `boolean`;
`tokenAddress`: `` `0x${string}` ``;
};
`signatureRequest?`: | \{
`data`: | `string`
| \{
`raw`: `` `0x${(...)}` ``;
};
`rawPayload`: `` `0x${string}` ``;
`type`: `"personal_sign"`;
}
| \{
`data`: \{
`domain?`: \{
`chainId?`: ...;
`name?`: ...;
`salt?`: ...;
`verifyingContract?`: ...;
`version?`: ...;
};
`message`: \{
\[`key`: `string`]: `unknown`;
};
`primaryType`: `string`;
`types`: \{
\[`key`: `string`]: ...\[];
};
};
`rawPayload`: `` `0x${string}` ``;
`type`: `"eth_signTypedData_v4"`;
};
`type`: `"user-operation-v070"`;
}
| \{
`chainId`: `` `0x${string}` ``;
`data`: \{
`address`: `` `0x${string}` ``;
`nonce`: `` `0x${string}` ``;
};
`signatureRequest`: \{
`rawPayload`: `` `0x${string}` ``;
`type`: `"eip7702Auth"`;
};
`type`: `"authorization"`;
})\[];
`type`: `"array"`;
}
| \{
`chainId`: `` `0x${string}` ``;
`data`: \{
`callData`: `` `0x${string}` ``;
`callGasLimit`: `` `0x${string}` ``;
`initCode`: `` `0x${string}` ``;
`maxFeePerGas`: `` `0x${string}` ``;
`maxPriorityFeePerGas`: `` `0x${string}` ``;
`nonce`: `` `0x${string}` ``;
`paymasterAndData`: `` `0x${string}` ``;
`preVerificationGas`: `` `0x${string}` ``;
`sender`: `` `0x${string}` ``;
`verificationGasLimit`: `` `0x${string}` ``;
};
`feePayment`: \{
`maxAmount`: `` `0x${string}` ``;
`sponsored`: `boolean`;
`tokenAddress`: `` `0x${string}` ``;
};
`signatureRequest?`: | \{
`data`: | `string`
| \{
`raw`: `` `0x${string}` ``;
};
`rawPayload`: `` `0x${string}` ``;
`type`: `"personal_sign"`;
}
| \{
`data`: \{
`domain?`: \{
`chainId?`: `number`;
`name?`: `string`;
`salt?`: `` `0x${string}` ``;
`verifyingContract?`: `` `0x${string}` ``;
`version?`: `string`;
};
`message`: \{
\[`key`: `string`]: `unknown`;
};
`primaryType`: `string`;
`types`: \{
\[`key`: `string`]: `object`\[];
};
};
`rawPayload`: `` `0x${string}` ``;
`type`: `"eth_signTypedData_v4"`;
};
`type`: `"user-operation-v060"`;
}
| \{
`chainId`: `` `0x${string}` ``;
`data`: \{
`callData`: `` `0x${string}` ``;
`callGasLimit`: `` `0x${string}` ``;
`factory?`: `` `0x${string}` ``;
`factoryData?`: `` `0x${string}` ``;
`maxFeePerGas`: `` `0x${string}` ``;
`maxPriorityFeePerGas`: `` `0x${string}` ``;
`nonce`: `` `0x${string}` ``;
`paymaster?`: `` `0x${string}` ``;
`paymasterData?`: `` `0x${string}` ``;
`paymasterPostOpGasLimit?`: `` `0x${string}` ``;
`paymasterVerificationGasLimit?`: `` `0x${string}` ``;
`preVerificationGas`: `` `0x${string}` ``;
`sender`: `` `0x${string}` ``;
`verificationGasLimit`: `` `0x${string}` ``;
};
`feePayment`: \{
`maxAmount`: `` `0x${string}` ``;
`sponsored`: `boolean`;
`tokenAddress`: `` `0x${string}` ``;
};
`signatureRequest?`: | \{
`data`: | `string`
| \{
`raw`: `` `0x${string}` ``;
};
`rawPayload`: `` `0x${string}` ``;
`type`: `"personal_sign"`;
}
| \{
`data`: \{
`domain?`: \{
`chainId?`: `number`;
`name?`: `string`;
`salt?`: `` `0x${string}` ``;
`verifyingContract?`: `` `0x${string}` ``;
`version?`: `string`;
};
`message`: \{
\[`key`: `string`]: `unknown`;
};
`primaryType`: `string`;
`types`: \{
\[`key`: `string`]: `object`\[];
};
};
`rawPayload`: `` `0x${string}` ``;
`type`: `"eth_signTypedData_v4"`;
};
`type`: `"user-operation-v070"`;
}
| \{
`data`: \{
`domain?`: \{
`chainId?`: `number`;
`name?`: `string`;
`salt?`: `` `0x${string}` ``;
`verifyingContract?`: `` `0x${string}` ``;
`version?`: `string`;
};
`message`: \{
\[`key`: `string`]: `unknown`;
};
`primaryType`: `string`;
`types`: \{
\[`key`: `string`]: `object`\[];
};
};
`modifiedRequest`: \{
`calls`: `object`\[];
`capabilities?`: \{
`eip7702Auth?`: | `true`
| \{
`account?`: `` `0x${string}` ``;
`delegation`: `"ModularAccountV2"` | `"0x69007702764179f14F51cdce752f4f775d74E139"`;
};
`gasParamsOverride?`: \{
`callGasLimit?`: | `` `0x${string}` ``
| \{
`multiplier`: `number`;
};
`maxFeePerGas?`: | `` `0x${string}` ``
| \{
`multiplier`: `number`;
};
`maxPriorityFeePerGas?`: | `` `0x${string}` ``
| \{
`multiplier`: `number`;
};
`paymasterPostOpGasLimit?`: | `` `0x${string}` ``
| \{
`multiplier`: `number`;
};
`paymasterVerificationGasLimit?`: | `` `0x${string}` ``
| \{
`multiplier`: `number`;
};
`preVerificationGas?`: | `` `0x${string}` ``
| \{
`multiplier`: `number`;
};
`verificationGasLimit?`: | `` `0x${string}` ``
| \{
`multiplier`: `number`;
};
};
`nonceOverride?`: \{
`nonceKey`: `` `0x${string}` ``;
};
`paymasterService?`: (\{ policyId: string; } | \{ policyIds: string\[]; }) & \{ onlyEstimation?: boolean | undefined; erc20?: (\{ maxTokenAmount?: \`0x$\{string}\` | undefined; tokenAddress: \`0x$\{string}\`; } & (\{ preOpSettings: \{ ...; } | \{ ...; }; } | \{ ...; } | \{})) | undefined; };
`permissions?`: | \{
`context`: `` `0x${string}` ``;
}
| \{
`sessionId`: `` `0x${string}` ``;
`signature`: `` `0x${string}` ``;
};
};
`chainId`: `` `0x${string}` ``;
`from`: `` `0x${string}` ``;
`paymasterPermitSignature?`: | \{
`data`: | `` `0x${string}` ``
| \{
`r`: `` `0x${string}` ``;
`s`: `` `0x${string}` ``;
`yParity`: `` `0x${string}` ``;
}
| \{
`r`: `` `0x${string}` ``;
`s`: `` `0x${string}` ``;
`v`: `` `0x${string}` ``;
};
`type`: `"secp256k1"`;
}
| \{
`data`: | `` `0x${string}` ``
| \{
`r`: `` `0x${string}` ``;
`s`: `` `0x${string}` ``;
`yParity`: `` `0x${string}` ``;
}
| \{
`r`: `` `0x${string}` ``;
`s`: `` `0x${string}` ``;
`v`: `` `0x${string}` ``;
};
`type`: `"ecdsa"`;
};
};
`signatureRequest`: \{
`data`: \{
`domain?`: \{
`chainId?`: `number`;
`name?`: `string`;
`salt?`: `` `0x${string}` ``;
`verifyingContract?`: `` `0x${string}` ``;
`version?`: `string`;
};
`message`: \{
\[`key`: `string`]: `unknown`;
};
`primaryType`: `string`;
`types`: \{
\[`key`: `string`]: `object`\[];
};
};
`rawPayload`: `` `0x${string}` ``;
`type`: `"eth_signTypedData_v4"`;
};
`type`: `"paymaster-permit"`;
}>

A Promise that resolves to the prepared calls result containing
the user operation data and signature request
