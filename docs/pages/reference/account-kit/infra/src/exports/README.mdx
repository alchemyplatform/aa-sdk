---
title: account-kit/infra
description: Overview of account-kit/infra
slug: wallets/reference/account-kit/infra
layout: reference
---

## Enumerations

<table>
  <thead>
    <tr>
      <th align="left">Enumeration</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [SimulateAssetType](enumerations/SimulateAssetType.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [SimulateChangeType](enumerations/SimulateChangeType.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

  </tbody>
</table>

## Interfaces

<table>
  <thead>
    <tr>
      <th align="left">Interface</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [SimulateAssetChange](interfaces/SimulateAssetChange.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [SimulateAssetChangesError](interfaces/SimulateAssetChangesError.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

  </tbody>
</table>

## Type Aliases

<table>
  <thead>
    <tr>
      <th align="left">Type Alias</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [AlchemyChainConfig](type-aliases/AlchemyChainConfig.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [AlchemyRpcSchema](type-aliases/AlchemyRpcSchema.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [AlchemySmartAccountClient](type-aliases/AlchemySmartAccountClient.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [AlchemySmartAccountClient\_Base](type-aliases/AlchemySmartAccountClient_Base.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [AlchemySmartAccountClientActions](type-aliases/AlchemySmartAccountClientActions.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [AlchemySmartAccountClientConfig](type-aliases/AlchemySmartAccountClientConfig.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [AlchemyTransport](type-aliases/AlchemyTransport.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [AlchemyTransportConfig](type-aliases/AlchemyTransportConfig.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [BaseAlchemyActions](type-aliases/BaseAlchemyActions.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [ClientWithAlchemyMethods](type-aliases/ClientWithAlchemyMethods.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [PolicyToken](type-aliases/PolicyToken.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [RequestGasAndPaymasterAndDataRequest](type-aliases/RequestGasAndPaymasterAndDataRequest.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [RequestGasAndPaymasterAndDataResponse](type-aliases/RequestGasAndPaymasterAndDataResponse.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [RequestPaymasterTokenQuoteRequest](type-aliases/RequestPaymasterTokenQuoteRequest.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [RequestPaymasterTokenQuoteResponse](type-aliases/RequestPaymasterTokenQuoteResponse.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [SimulateUserOperationAssetChangesRequest](type-aliases/SimulateUserOperationAssetChangesRequest.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [SimulateUserOperationAssetChangesResponse](type-aliases/SimulateUserOperationAssetChangesResponse.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

  </tbody>
</table>

## Variables

<table>
  <thead>
    <tr>
      <th align="left">Variable</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [alchemyActions](variables/alchemyActions.mdx)
      </td>

      <td>
        Provides a set of actions for interacting with the Alchemy Smart Account client, including the ability to simulate user operations.

        **Example**

        ```ts
        import { alchemyActions } from "@account-kit/infra";
        import { createPublicClient } from "viem";

        const client = createPublicClient(...);
        const clientWithAlchemyActions = client.extend(alchemyActions);
        ```
      </td>
    </tr>

    <tr>
      <td>
        [AlchemyChainSchema](variables/AlchemyChainSchema.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [alchemyFeeEstimator](variables/alchemyFeeEstimator.mdx)
      </td>

      <td>
        Function that estimates the transaction fees using Alchemy methods for a given client.
        It fetches the latest block and estimates the max priority fee per gas, applying any overrides or fee options provided.

        **Example**

        ```ts
        import { alchemyFeeEstimator, alchemy } from "@account-kit/infra";
        import { createSmartAccountClient } from "@aa-sdk/core";

        const alchemyTransport = alchemy({
         chain: sepolia,
         apiKey: "your-api-key"
        });

        const client = createSmartAccountClient({
         feeEstimator: alchemyFeeEstimator(alchemyTransport),
         ...otherParams
        });
        ```
      </td>
    </tr>

    <tr>
      <td>
        [arbitrum](variables/arbitrum.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [arbitrumGoerli](variables/arbitrumGoerli.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [arbitrumNova](variables/arbitrumNova.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [arbitrumSepolia](variables/arbitrumSepolia.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [base](variables/base.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [baseGoerli](variables/baseGoerli.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [baseSepolia](variables/baseSepolia.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [beraChainBartio](variables/beraChainBartio.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [bobaMainnet](variables/bobaMainnet.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [bobaSepolia](variables/bobaSepolia.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [celoAlfajores](variables/celoAlfajores.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [celoMainnet](variables/celoMainnet.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [fraxtal](variables/fraxtal.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [fraxtalSepolia](variables/fraxtalSepolia.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [gensynTestnet](variables/gensynTestnet.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [goerli](variables/goerli.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [inkMainnet](variables/inkMainnet.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [inkSepolia](variables/inkSepolia.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [mainnet](variables/mainnet.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [mekong](variables/mekong.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [monadTestnet](variables/monadTestnet.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [opbnbMainnet](variables/opbnbMainnet.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [opbnbTestnet](variables/opbnbTestnet.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [openlootSepolia](variables/openlootSepolia.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [optimism](variables/optimism.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [optimismGoerli](variables/optimismGoerli.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [optimismSepolia](variables/optimismSepolia.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [polygon](variables/polygon.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [polygonAmoy](variables/polygonAmoy.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [polygonMumbai](variables/polygonMumbai.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [riseTestnet](variables/riseTestnet.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [sepolia](variables/sepolia.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [shape](variables/shape.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [shapeSepolia](variables/shapeSepolia.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [simulateUserOperationChanges](variables/simulateUserOperationChanges.mdx)
      </td>

      <td>
        Simulates user operation changes including asset changes for a specified user operation and returns the resulting state changes.

        **Example**

        ```ts
        import { simulateUserOperationChanges, createAlchemyPublicRpcClient } from "@account-kit/infra";

        const client = createAlchemyPublicRpcClient(...);
        const response = await simulateUserOperationChanges(client, {
         uo: ...
        });
        ```
      </td>
    </tr>

    <tr>
      <td>
        [soneiumMainnet](variables/soneiumMainnet.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [soneiumMinato](variables/soneiumMinato.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [storyAeneid](variables/storyAeneid.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [storyMainnet](variables/storyMainnet.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [teaSepolia](variables/teaSepolia.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [unichainMainnet](variables/unichainMainnet.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [unichainSepolia](variables/unichainSepolia.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [worldChain](variables/worldChain.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [worldChainSepolia](variables/worldChainSepolia.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [zora](variables/zora.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [zoraSepolia](variables/zoraSepolia.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

  </tbody>
</table>

## Functions

<table>
  <thead>
    <tr>
      <th align="left">Function</th>
      <th align="left">Description</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        [alchemy](functions/alchemy.mdx)
      </td>

      <td>
        Creates an Alchemy transport with the specified configuration options.
        When sending all traffic to Alchemy, you must pass in one of rpcUrl, apiKey, or jwt.
        If you want to send Bundler and Paymaster traffic to Alchemy and Node traffic to a different RPC, you must pass in alchemyConnection and nodeRpcUrl.

        **Example**

        ### Basic Example

        If the chain you're using is supported for both Bundler and Node RPCs, then you can do the following:

        ```ts
        import { alchemy } from "@account-kit/infra";

        const transport = alchemy({
         // NOTE: you can also pass in an rpcUrl or jwt here or rpcUrl and jwt
         apiKey: "your-api-key",
        });
        ```

        ### AA Only Chains

        For AA-only chains, you need to specify the alchemyConnection and nodeRpcUrl since Alchemy only
        handles the Bundler and Paymaster RPCs for these chains.

        ```ts
        import { alchemy } from "@account-kit/infra";

        const transport = alchemy({
         alchemyConnection: {
           apiKey: "your-api-key",
         },
         nodeRpcUrl: "https://zora.rpc.url",
        });
        ```
      </td>
    </tr>

    <tr>
      <td>
        [alchemyGasAndPaymasterAndDataMiddleware](functions/alchemyGasAndPaymasterAndDataMiddleware.mdx)
      </td>

      <td>
        Paymaster middleware factory that uses Alchemy's Gas Manager for sponsoring
        transactions. Uses Alchemy's custom `alchemy_requestGasAndPaymasterAndData`
        method instead of conforming to the standard ERC-7677 interface. Note that
        if you use `createAlchemySmartAccountClient`, this middleware is already
        used by default and you do not need to manually include it.

        **Example**

        ```ts twoslash
        import { sepolia, alchemy, alchemyGasAndPaymasterAndDataMiddleware } from "@account-kit/infra";
        import { createSmartAccountClient } from "@aa-sdk/core";

        const client = createSmartAccountClient({
         transport: alchemy({ apiKey: "your-api-key" }),
         chain: sepolia,
         ...alchemyGasAndPaymasterAndDataMiddleware({
           policyId: "policyId",
           transport: alchemy({ apiKey: "your-api-key" }),
         })
        });
        ```
      </td>
    </tr>

    <tr>
      <td>
        [alchemyGasManagerMiddleware](functions/alchemyGasManagerMiddleware.mdx)
      </td>

      <td>
        Paymaster middleware factory that uses Alchemy's Gas Manager for sponsoring
        transactions. Adheres to the ERC-7677 standardized communication protocol.

        **Example**

        ```ts
        import { sepolia, alchemyGasManagerMiddleware } from "@account-kit/infra";
        import { http } from "viem";

        const client = createSmartAccountClient({
         transport: http("rpc-url"),
         chain: sepolia,
         ...alchemyGasManagerMiddleware("policyId")
        });
        ```
      </td>
    </tr>

    <tr>
      <td>
        [alchemyUserOperationSimulator](functions/alchemyUserOperationSimulator.mdx)
      </td>

      <td>
        A middleware function to be used during simulation of user operations which leverages Alchemy's RPC uo simulation method.

        **Example**

        ```ts
        import { alchemyUserOperationSimulator, alchemy, sepolia } from "@account-kit/infra";
        import { createSmartAccountClient } from "@aa-sdk/core";

        const alchemyTransport = alchemy({
         chain: sepolia,
         apiKey: "your-api-key"
        });

        const client = createSmartAccountClient({
         chain: sepolia,
         userOperationSimulator: alchemyUserOperationSimulator(alchemyTransport),
         ...otherParams
        });
        ```
      </td>
    </tr>

    <tr>
      <td>
        [convertHeadersToObject](functions/convertHeadersToObject.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [createAlchemyPublicRpcClient](functions/createAlchemyPublicRpcClient.mdx)
      </td>

      <td>
        Creates an Alchemy public RPC client with the provided chain, connection configuration, and optional fetch options. The client has alchemy methods and can dynamically update HTTP headers.

        **Example**

        ```ts
        import { createAlchemyPublicRpcClient, alchemy } from "@account-kit/infra";
        import { sepolia } from "@account-kit/infra";

        const client = createAlchemyPublicRpcClient({
         transport: alchemy({
           apiKey: "ALCHEMY_API_KEY"
         }),
         chain: sepolia,
        });
        ```
      </td>
    </tr>

    <tr>
      <td>
        [createAlchemySmartAccountClient](functions/createAlchemySmartAccountClient.mdx)
      </td>

      <td>
        Creates an Alchemy smart account client using the provided configuration options, including account details, gas manager configuration, and custom middleware.

        **Example**

        ```ts
        import { createAlchemySmartAccountClient, alchemy } from "@account-kit/infra";
        import { sepolia } from "@account-kit/infra/chain";

        const client = createAlchemySmartAccountClient({
         chain: sepolia,
         transport: alchemy({ apiKey: "your-api-key" }),
        });
        ```
      </td>
    </tr>

    <tr>
      <td>
        [defineAlchemyChain](functions/defineAlchemyChain.mdx)
      </td>

      <td>
        Defines an Alchemy chain configuration by adding an Alchemy-specific RPC base URL to the chain's RPC URLs.

        **Example**

        ```ts
        import { defineAlchemyChain } from "@account-kit/infra";
        import { sepolia } from "viem/chains";

        const chain = defineAlchemyChain({
         chain: sepolia,
         rpcBaseUrl: "https://eth-sepolia.g.alchemy.com/v2"
        });
        ```
      </td>
    </tr>

    <tr>
      <td>
        [getAlchemyPaymasterAddress](functions/getAlchemyPaymasterAddress.mdx)
      </td>

      <td>
        Retrieves the Alchemy paymaster address for the given chain. Returns different addresses based on the chain ID.

        **Example**

        ```ts
        import { sepolia, getAlchemyPaymasterAddress } from "@account-kit/infra";

        const paymasterAddress = getAlchemyPaymasterAddress(sepolia, "0.6.0");
        ```
      </td>
    </tr>

    <tr>
      <td>
        [getDefaultUserOperationFeeOptions](functions/getDefaultUserOperationFeeOptions.mdx)
      </td>

      <td>
        Retrieves the default user operation fee options for a given chain. Adjusts fees for specific chains like Arbitrum and Optimism.

        **Example**

        ```ts
        import { getDefaultUserOperationFeeOptions } from "@account-kit/infra";
        import { arbitrum } from "@account-kit/infra";

        const feeOpts = getDefaultUserOperationFeeOptions(arbitrum);
        ```
      </td>
    </tr>

    <tr>
      <td>
        [getSignerTypeHeader](functions/getSignerTypeHeader.mdx)
      </td>

      <td>
        ‐
      </td>
    </tr>

    <tr>
      <td>
        [headersUpdate](functions/headersUpdate.mdx)
      </td>

      <td>
        Update the headers with the trace header and breadcrumb.

        These trace headers are used in the imply ingestion pipeline to trace the request.
        And the breadcrumb is used to get finer grain details in the trace.

        Then there are the trace headers that are part of the W3C trace context standard.
      </td>
    </tr>

    <tr>
      <td>
        [isAlchemySmartAccountClient](functions/isAlchemySmartAccountClient.mdx)
      </td>

      <td>
        Checks if a given client is an Alchemy Smart Account Client. The goal of this check is to ensure that the client supports certain RPC methods.

        **Example**

        ```ts
        import { isAlchemySmartAccountClient } from "@account-kit/infra";

        if (isAlchemySmartAccountClient(client)) {
         // do things with the client as an Alchemy Smart Account Client
        }
        ```
      </td>
    </tr>

    <tr>
      <td>
        [isAlchemyTransport](functions/isAlchemyTransport.mdx)
      </td>

      <td>
        A type guard for the transport to determine if it is an Alchemy transport.
        Used in cases where we would like to do switching depending on the transport, where there used
        to be two clients for an alchemy and a non-alchemy, and with this switch we don't need the two seperate clients. \*
      </td>
    </tr>

    <tr>
      <td>
        [mutateRemoveTrackingHeaders](functions/mutateRemoveTrackingHeaders.mdx)
      </td>

      <td>
        Remove the tracking headers. This is used in our split transport to ensure that we remove the headers that
        are not used by the other systems.
      </td>
    </tr>

  </tbody>
</table>
