---
title: createModularAccountV2
description: 'Creates a ModularAccount V2 account, with the mode depending on the provided "mode" field. Possible modes include: "default", which is SMA Bytecode, and "7702", which is SMA 7702. Handles nonce generation, transaction encoding, and mode variant-specific behavior like initcode construction.'
slug: wallets/reference/account-kit/smart-contracts/src/functions/createModularAccountV2
layout: reference
---

Creates a ModularAccount V2 account, with the mode depending on the provided "mode" field.
Possible modes include: "default", which is SMA Bytecode, and "7702", which is SMA 7702.
Handles nonce generation, transaction encoding, and mode variant-specific behavior like initcode construction.

## Example

```ts twoslash
import { createModularAccountV2 } from "@account-kit/smart-contracts";
import { LocalAccountSigner } from "@aa-sdk/core";
import { alchemy, sepolia } from "@account-kit/infra";

const MNEMONIC = "...";
const RPC_URL = "...";

const signer = LocalAccountSigner.mnemonicToAccountSigner(MNEMONIC);

const chain = sepolia;

const transport = alchemy({ rpcUrl: RPC_URL });

const modularAccountV2 = await createModularAccountV2({
  mode: "default", // or "7702"
  chain,
  signer,
  transport,
});
```

## Param

Configuration parameters for creating a Modular Account V2.

## Call Signature

```ts
function createModularAccountV2<TTransport, TSigner>(
  config,
): Promise<ModularAccountV2<TSigner>>;
```

Defined in: [account-kit/smart-contracts/src/ma-v2/account/modularAccountV2.ts:86](https://github.com/alchemyplatform/aa-sdk/blob/49e74eee8606f480b200b4612d00d950da8a8742/account-kit/smart-contracts/src/ma-v2/account/modularAccountV2.ts#L86)

### Type Parameters

| Type Parameter                                   | Default type                 |
| :----------------------------------------------- | :--------------------------- |
| `TTransport` _extends_ `Transport`               | `Transport`                  |
| `TSigner` _extends_ `SmartAccountSigner`\<`any`> | `SmartAccountSigner`\<`any`> |

### Parameters

| Parameter | Type                                                                                                         |
| :-------- | :----------------------------------------------------------------------------------------------------------- |
| `config`  | [`CreateModularAccountV2Params`](../type-aliases/CreateModularAccountV2Params.mdx)\<`TTransport`, `TSigner`> |

### Returns

`Promise`\<[`ModularAccountV2`](../type-aliases/ModularAccountV2.mdx)\<`TSigner`>>

## Call Signature

```ts
function createModularAccountV2<TTransport>(
  config,
): Promise<WebauthnModularAccountV2>;
```

Defined in: [account-kit/smart-contracts/src/ma-v2/account/modularAccountV2.ts:93](https://github.com/alchemyplatform/aa-sdk/blob/49e74eee8606f480b200b4612d00d950da8a8742/account-kit/smart-contracts/src/ma-v2/account/modularAccountV2.ts#L93)

### Type Parameters

| Type Parameter                     | Default type |
| :--------------------------------- | :----------- |
| `TTransport` _extends_ `Transport` | `Transport`  |

### Parameters

| Parameter | Type                                                                                                              |
| :-------- | :---------------------------------------------------------------------------------------------------------------- |
| `config`  | [`CreateWebauthnModularAccountV2Params`](../type-aliases/CreateWebauthnModularAccountV2Params.mdx)\<`TTransport`> |

### Returns

`Promise`\<[`WebauthnModularAccountV2`](../type-aliases/WebauthnModularAccountV2.mdx)>
