---
title: TraceHeader
description: Some tools that are useful when dealing with the values of the trace header. Follows the W3C trace context standard.
slug: wallets/reference/aa-sdk/core/src/classes/TraceHeader
layout: reference
---

Defined in: [aa-sdk/core/src/utils/traceHeader.ts:31](https://github.com/alchemyplatform/aa-sdk/blob/49e74eee8606f480b200b4612d00d950da8a8742/aa-sdk/core/src/utils/traceHeader.ts#L31)

Some tools that are useful when dealing with the values
of the trace header. Follows the W3C trace context standard.

## See

https://www.w3.org/TR/trace-context/

## Constructors

### Constructor

```ts
new TraceHeader(
   traceId,
   parentId,
   traceFlags,
   traceState): TraceHeader;
```

Defined in: [aa-sdk/core/src/utils/traceHeader.ts:45](https://github.com/alchemyplatform/aa-sdk/blob/49e74eee8606f480b200b4612d00d950da8a8742/aa-sdk/core/src/utils/traceHeader.ts#L45)

Initializes a new instance with the provided trace identifiers and state information.

#### Parameters

| Parameter    | Type                          | Description                                              |
| :----------- | :---------------------------- | :------------------------------------------------------- |
| `traceId`    | `string`                      | The unique identifier for the trace                      |
| `parentId`   | `string`                      | The identifier of the parent trace                       |
| `traceFlags` | `string`                      | Flags containing trace-related options                   |
| `traceState` | `Record`\<`string`, `string`> | The trace state information for additional trace context |

#### Returns

`TraceHeader`

## Properties

| Property                           | Modifier   | Type                          | Defined in                                                                                                                                                                  |
| :--------------------------------- | :--------- | :---------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <a id="parentid" /> `parentId`     | `readonly` | `string`                      | [aa-sdk/core/src/utils/traceHeader.ts:33](https://github.com/alchemyplatform/aa-sdk/blob/49e74eee8606f480b200b4612d00d950da8a8742/aa-sdk/core/src/utils/traceHeader.ts#L33) |
| <a id="traceflags" /> `traceFlags` | `readonly` | `string`                      | [aa-sdk/core/src/utils/traceHeader.ts:34](https://github.com/alchemyplatform/aa-sdk/blob/49e74eee8606f480b200b4612d00d950da8a8742/aa-sdk/core/src/utils/traceHeader.ts#L34) |
| <a id="traceid" /> `traceId`       | `readonly` | `string`                      | [aa-sdk/core/src/utils/traceHeader.ts:32](https://github.com/alchemyplatform/aa-sdk/blob/49e74eee8606f480b200b4612d00d950da8a8742/aa-sdk/core/src/utils/traceHeader.ts#L32) |
| <a id="tracestate" /> `traceState` | `readonly` | `Record`\<`string`, `string`> | [aa-sdk/core/src/utils/traceHeader.ts:35](https://github.com/alchemyplatform/aa-sdk/blob/49e74eee8606f480b200b4612d00d950da8a8742/aa-sdk/core/src/utils/traceHeader.ts#L35) |

## Methods

### toTraceHeader()

```ts
toTraceHeader(): object;
```

Defined in: [aa-sdk/core/src/utils/traceHeader.ts:123](https://github.com/alchemyplatform/aa-sdk/blob/49e74eee8606f480b200b4612d00d950da8a8742/aa-sdk/core/src/utils/traceHeader.ts#L123)

Should be able to convert the trace header to the format that is used in the headers of an http request

#### Example

#### Returns

`object`

The trace header in the format of a record, used in our http client

| Name          | Type                                     | Defined in                                                                                                                                                                    |
| :------------ | :--------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `traceparent` | `` `00-${string}-${string}-${string}` `` | [aa-sdk/core/src/utils/traceHeader.ts:125](https://github.com/alchemyplatform/aa-sdk/blob/49e74eee8606f480b200b4612d00d950da8a8742/aa-sdk/core/src/utils/traceHeader.ts#L125) |
| `tracestate`  | `string`                                 | [aa-sdk/core/src/utils/traceHeader.ts:126](https://github.com/alchemyplatform/aa-sdk/blob/49e74eee8606f480b200b4612d00d950da8a8742/aa-sdk/core/src/utils/traceHeader.ts#L126) |

---

### withEvent()

```ts
withEvent(eventName): TraceHeader;
```

Defined in: [aa-sdk/core/src/utils/traceHeader.ts:145](https://github.com/alchemyplatform/aa-sdk/blob/49e74eee8606f480b200b4612d00d950da8a8742/aa-sdk/core/src/utils/traceHeader.ts#L145)

Should be able to create a new trace header with a new event in the trace state,
as the key of the eventName as breadcrumbs appending onto previous breadcrumbs with the - infix if exists. And the
trace parent gets updated as according to the docs

#### Example

#### Parameters

| Parameter   | Type     | Description              |
| :---------- | :------- | :----------------------- |
| `eventName` | `string` | The key of the new event |

#### Returns

`TraceHeader`

The new trace header

---

### default()

```ts
static default(): TraceHeader;
```

Defined in: [aa-sdk/core/src/utils/traceHeader.ts:66](https://github.com/alchemyplatform/aa-sdk/blob/49e74eee8606f480b200b4612d00d950da8a8742/aa-sdk/core/src/utils/traceHeader.ts#L66)

Creating a default trace id that is a random setup for both trace id and parent id

#### Example

#### Returns

`TraceHeader`

A default trace header

---

### fromTraceHeader()

```ts
static fromTraceHeader(headers): undefined | TraceHeader;
```

Defined in: [aa-sdk/core/src/utils/traceHeader.ts:84](https://github.com/alchemyplatform/aa-sdk/blob/49e74eee8606f480b200b4612d00d950da8a8742/aa-sdk/core/src/utils/traceHeader.ts#L84)

Should be able to consume a trace header from the headers of an http request

#### Example

#### Parameters

| Parameter | Type                          | Description                       |
| :-------- | :---------------------------- | :-------------------------------- |
| `headers` | `Record`\<`string`, `string`> | The headers from the http request |

#### Returns

`undefined` | `TraceHeader`

The trace header object, or nothing if not found
