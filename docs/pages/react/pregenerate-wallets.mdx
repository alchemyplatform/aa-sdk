---
title: Pregenerate Wallets
description: Learn how to pre-generate Smart Wallet addresses for your users with nothing more than an email address.
slug: wallets/react/pregenerate-wallets
---

> **Objective** Generate a wallet owner (signer) and predict the smart-account address _before_ a user ever logs in, using only their email.

## Prerequisites

- Alchemy **API Key** with Smart Wallets enabled
- Node ≥ 18 (or cURL / any HTTP client)
- The `@account-kit/smart-contracts` package (for step 4)

When you already know who your users are (for example you collected their email during wait-list signup) you might want to **create wallet addresses ahead of time** so you can airdrop assets or seed balances _before_ they ever open your app.

With Alchemy you can do this entirely from your server using the **Signer API** – no UI, hooks, or user interaction required.

## 1. Get an API key

Grab an **API Key** from the Alchemy dashboard and store it as an environment variable:

```bash
export ALCHEMY_API_KEY="<YOUR_API_KEY>"
```

## 2. Create the owner signer

Use whichever call style fits your environment – they all call the same [`Create Wallet` API endpoint](https://www.alchemy.com/docs/wallets/api/smart-wallets/signer-api-endpoints/signer-api-endpoints/create-account) with an identical JSON body.

<Tabs>
<Tab title="Fetch (ESM / Node ≥18)" language="ts">

```ts twoslash
const res = await fetch("https://api.g.alchemy.com/signer/v1/signup", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    // The API key is sent in the Authorization header
    Authorization: `Bearer ${process.env.ALCHEMY_API_KEY}`,
  },
  body: JSON.stringify({
    email: "[email protected]",
  }),
});

if (!res.ok) throw new Error(await res.text());

const { address, solanaAddress, userId } = await res.json();
console.log({ address, solanaAddress, userId });
```

</Tab>
<Tab title="request (CommonJS)" language="ts">

```ts
import request from "request";

request.post(
  {
    url: "https://api.g.alchemy.com/signer/v1/signup",
    json: { email: "[email protected]" },
    headers: {
      Authorization: `Bearer ${process.env.ALCHEMY_API_KEY}`,
      "Content-Type": "application/json",
    },
  },
  (err, _resp, body) => {
    if (err) throw err;
    console.log(body); // ➜  { orgId, userId, address, solanaAddress, otpId }
  }
);
```

</Tab>
<Tab title="cURL" language="bash">

```bash
curl -X POST https://api.g.alchemy.com/signer/v1/signup \
  -H "Authorization: Bearer $ALCHEMY_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{ "email": "[email protected]" }'
```

</Tab>
</Tabs>

## 3. Response fields

| Field           | Description                                                                                                        |
| --------------- | ------------------------------------------------------------------------------------------------------------------ |
| `address`       | The **signer (EOA)** address that will **own** your user's smart account (this is _not_ the smart account itself). |
| `solanaAddress` | The **Solana** wallet address associated with the same user.                                                       |
| `orgId`         | Your organisation ID – useful if you operate multiple orgs.                                                        |

<Tip>
  The address you receive here is the **owner key**. Your user's Smart Contract
  Account (ModularAccountV2) will be deployed at a different address – but we
  can deterministically calculate it ahead of time using
  `predictModularAccountV2Address`.
</Tip>

## 4. Predict the smart-account address

The `@account-kit/smart-contracts` package exports a utility that mirrors the
CREATE2 logic used by the MAv2 factory. By passing the signer address you just
generated, you can know the **counter-factual** (future) address of the smart
account before it is even deployed.

```ts twoslash
import { predictModularAccountV2Address } from "@account-kit/smart-contracts";

// Factory & implementation addresses vary by chain – you can grab them from
// the "Deployed addresses" page in the docs.

const mav2FactoryAddress = "0x00000000000017c61b5bEe81050EC8eFc9c6fecd";
const implementationAddress = "0x000000000000c5A9089039570Dd36455b5C07383";

const smartAccountAddress = predictModularAccountV2Address({
  factoryAddress,
  implementationAddress,
  salt: 0n, // use 0 unless you have a custom salt scheme
  type: "SMA",
  ownerAddress: address, // signer address from Step 2
});

console.log({ smartAccountAddress });
```

Now you have **both** the owner key (`address`) and the eventual smart account
address (`smartAccountAddress`). When the user finally authenticates, their
smart account will be deployed at exactly this counter-factual address.

<Info>
    If your application is still using the older **Light Account** contracts (v1 or v2) instead of Modular Account V2, use the corresponding helpers from `@account-kit/smart-contracts`:
    - `predictLightAccountAddress` – single-owner Light Account
    - `predictMultiOwnerLightAccountAddress` – multi-owner Light Account
    
    These functions take the same factory/owner/salt pattern shown above and work for all historical Light-Account factory versions. Everything else in this guide (steps 1-3) remains the same.

</Info>

---

That's it! You now hold the future Smart Contract Account address. You can fund it immediately or store it for later onboarding.
