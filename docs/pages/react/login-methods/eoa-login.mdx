---
title: Connect with EOAs
description: How to bring in your own EOAs to Smart Wallets
slug: wallets/react/login-methods/eoa-login
---

## Overview

Connect users with their existing wallets — EVM EOAs (e.g., MetaMask) and Solana wallets (e.g., Phantom) — via our auth modal or your own UI.

- EVM EOAs behave as regular wallets (no AA features).
- Solana wallets are external wallets; you can enable sponsored gas with a policy.
- You can optionally use an EVM EOA as a smart wallet owner to unlock AA features like sponsorship and batching.

## Setup

- Auto-detect installed wallet extensions.
- Optionally add WalletConnect for other EVM wallets.
- Configure once with `configForExternalWallets()` and spread its outputs into `createConfig()` and the auth modal.

### Quick setup: EVM + Solana external wallets

Use the helper to generate EVM connectors, Solana adapters, and UI props in one place, then wire them into `createConfig`.

```ts twoslash [src/config.ts]
// @noErrors
import {
  createConfig,
  cookieStorage,
  configForExternalWallets,
} from "@account-kit/react";
import { alchemy, sepolia } from "@account-kit/infra";
import { Connection } from "@solana/web3.js";

// Keep external wallets settings in one place
export const externalWalletsConfig = configForExternalWallets({
  // Preferred order (case-insensitive). Use "wallet_connect" for WalletConnect.
  wallets: ["wallet_connect", "phantom", "metamask", "coinbase wallet"],
  // Surface both EVM and Solana wallets (filter to ["evm"] or ["svm"] if desired)
  chainType: ["svm", "evm"],
  // EVM-only WalletConnect support (omit to disable)
  walletConnectProjectId: "your-project-id",
  // Controls the built-in Featured section
  hideMoreButton: false,
  numFeaturedWallets: 4,
});

export const config = createConfig(
  {
    // alchemy config
    transport: alchemy({ apiKey: "your_api_key" }), // TODO: add your Alchemy API key - setup your app and embedded account config in the alchemy dashboard (https://dashboard.alchemy.com/accounts)
    chain: sepolia, // TODO: specify your preferred chain here and update imports from @account-kit/infra
    ssr: true, // Defers hydration of the account state to the client after the initial mount solving any inconsistencies between server and client state (read more here: https://accountkit.alchemy.com/react/ssr)
    storage: cookieStorage, // persist the account state using cookies (read more here: https://accountkit.alchemy.com/react/ssr#persisting-the-account-state)
    enablePopupOauth: true, // must be set to "true" if you plan on using popup rather than redirect in the social login flow
    // optional config to override default session manager config
    sessionConfig: {
      expirationTimeMs: 1000 * 60 * 60, // 60 minutes (default is 15 min)
    },
    /**
     * External wallets (EVM + Solana)
     */
    connectors: externalWalletsConfig.connectors,
    solana: {
      connection: new Connection(
        `https://solana-devnet.g.alchemy.com/v2/${process.env.NEXT_PUBLIC_ALCHEMY_API_KEY}`,
      ),
      adapters: externalWalletsConfig.adapters,
      // optional gas sponsor for Solana
      policyId: process.env.NEXT_PUBLIC_SOLANA_POLICY_ID,
    },
  },
  {
    // authentication ui config - your customizations here
    auth: {
      sections: [
        [{ type: "email" }],
        [
          { type: "passkey" },
          { type: "social", authProviderId: "google", mode: "popup" },
          { type: "social", authProviderId: "facebook", mode: "popup" },
        ],
        [{ type: "external_wallets", ...externalWalletsConfig.uiConfig }],
      ],
      addPasskeyOnSignup: true,
      showSignInText: true,
    },
  },
);
```

You can still pass EVM `connectors` and Solana `adapters` directly into `createConfig()` without using the helper.

In order to access other EVM providers via `WalletConnect`, provide a WalletConnect Project ID in your external wallets config. You can create a WalletConnect project ID [here](https://cloud.reown.com/sign-in).

```ts twoslash
// @noErrors
export const externalWalletsConfig = configForExternalWallets({
  wallets: ["wallet_connect", "metamask", "phantom"],
  chainType: ["evm", "svm"],
  walletConnectProjectId: "your-project-id",
});
```

## UI behavior

- **Featured wallets**: uses your `wallets` order; EVM and Solana variants of the same name are joined (EVM shown first) and count as one toward the featured cap.
- **All wallets**: same ordering; any detected wallets not in `wallets` are appended.
- **Filtering**: respects `chainType`. For example, `["svm"]` shows only Solana; `["evm"]` shows only EVM (and WalletConnect if configured).
- **WalletConnect**: EVM-only; shown when `walletConnectProjectId` is provided and `chainType` includes `"evm"`.

## Custom UI

### Bring in an EOA via Connectors

If you need complete control over the user experience, you can customize your EOA connection. For example, use the [useConnect](https://www.alchemy.com/docs/wallets/reference/account-kit/react/hooks/useConnect) hook to allow users to connect their EOA via available connectors:

```tsx twoslash
// @noErrors
import { useConnect } from "@account-kit/react";

const { connectors, connect } = useConnect({
  onSuccess: (data) => {
    console.log("Connected!", data);
  },
  onError: (err) => {
    console.error("Connection failed", err);
  },
});

return (
  <div>
    {connectors.map((connector) => (
      <button key={connector.id} onClick={() => connect({ connector })}>
        Connect with {connector.name}
      </button>
    ))}
  </div>
);
```

### Programmatic login with a Solana adapter

Use the Solana wallet hook to select a specific adapter without showing the modal:

```ts twoslash
// @noErrors
import { useSolanaWallet } from "@account-kit/react";

const { select, wallets } = useSolanaWallet();
const phantom = wallets.find((w) => w.name.toLowerCase() === "phantom");

if (phantom) {
  await select(phantom.adapter.name);
}
```

### Bring in an EOA as a Smart Wallet Owner

For local wallets or JSON-RPC wallets that support the [EIP-1193](https://eips.ethereum.org/EIPS/eip-1193) standard (like MetaMask, Coinbase Wallet, etc.), you can use `WalletClientSigner` from `@aa-sdk/core` to bring in these EOAs as your smart wallet owner. More info [here](https://www.alchemy.com/docs/wallets/third-party/signers).
By making your EOA an owner of a smart account, you will have access to AA feature through your new smart wallet.

```ts twoslash
// @noErrors
import { WalletClientSigner, type SmartAccountSigner } from "@aa-sdk/core";
import { createWalletClient, custom } from "viem";
import { sepolia } from "viem/chains";
import { createModularAccountV2 } from "@account-kit/smart-contracts";

const externalProvider = window.ethereum; // or another EIP-1193 provider

const walletClient = createWalletClient({
  chain: sepolia,
  transport: custom(externalProvider),
});

export const signer: SmartAccountSigner = new WalletClientSigner(
  walletClient,
  "json-rpc",
);

// Connect your signer to your smart account

const account = await createModularAccountV2({
  chain: sepolia,
  transport: alchemyTransport,
  signer: signer, // your EOA that you've brought in as an owner
});
```
