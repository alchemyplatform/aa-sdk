---
title: Configuration and login
description: Learn how to integrate Alchemy Smart Wallets into your existing React application with embedded wallets and authentication.
text: Configuration and login
link: /react/quickstart/existing-project
slug: wallets/react/quickstart/existing-project
---

## Configure your authentication and styling

Create two configuration files that will customize your authentication methods and UI styles.

### Create your configuration files

1. In your project root, create a `config.ts` file
2. In your project root, create a `tailwind.config.ts` file

You can customize these by visiting our [demo app](https://demo.alchemy.com/) - use the interactive sandbox to explore different authentication methods and styling options. When ready, click 'Code preview' to export your customized configuration files.

### Basic configuration example

Here's a basic configuration to get you started:

**tailwind.config.ts**

```ts tailwind.config.ts
import { withAccountKitUi } from "@account-kit/react/tailwind";

export default withAccountKitUi(
  {
    // Your existing Tailwind config (if already using Tailwind).
    // If using Tailwind v4, this will likely be left empty.
  },
  {
    // AccountKit UI theme customizations
  },
);
```

<Tip>
  **Important:** If your `tailwind.config.ts` already contains any existing
  config information, be sure to wrap it with `withAccountKitUi` as shown above.
  Don't replace your existing config - just wrap it!
</Tip>

Update your `global.css` to include the config:

```css global.css
@import "tailwindcss";
@config '../../tailwind.config.ts';
```

<Tip>
  **Note:** If still using Tailwind v3, skip this step as the
  `tailwind.config.ts` file is used by default.
</Tip>

**config.ts**

```ts twoslash src/config.ts
// @noErrors
import { createConfig, cookieStorage } from "@account-kit/react";
import { QueryClient } from "@tanstack/react-query";
import { arbitrumSepolia, alchemy } from "@account-kit/infra";

export const config = createConfig(
  {
    transport: alchemy({
      // Replace with your API key
      apiKey: "YOUR_API_KEY",
    }),
    chain: arbitrumSepolia,
    ssr: true,
    storage: cookieStorage,
    enablePopupOauth: true,
    // For gas sponsorship (optional)
    // Learn more here: https://www.alchemy.com/docs/wallets/transactions/sponsor-gas/sponsor-gas-evm
    policyId: "YOUR_POLICY_ID",
  },
  {
    auth: {
      sections: [
        [{ type: "email" }],
        [
          { type: "passkey" },
          { type: "social", authProviderId: "google", mode: "popup" },
        ],
      ],
      addPasskeyOnSignup: true,
    },
  },
);

export const queryClient = new QueryClient();
```

Remember to replace `"YOUR_API_KEY"` with your app's API Key.

<Tip>
  **Important:** The chain you import (like `arbitrumSepolia`) must come from
  the `@account-kit/infra` package, not from `viem`. Additionally, make sure
  this chain is enabled in both your Alchemy app and Smart Wallets config policy
  in the dashboard.
</Tip>

Note:
You can add an `"external_wallets"` auth method to your config to allow connecting existing external EOAs (such as MetaMask) using our built-in connectors and WalletConnect. Learn more [here](/wallets/react/login-methods/eoa-login)

```ts twoslash
// @noErrors
[
  {
    type: "external_wallets",
    walletConnect: { projectId: "your-project-id" },
  },
];
```

## Initializing Alchemy Provider

Wrap your application with the Alchemy Provider to enable embedded wallet functionality.

### 1. Create a file: `providers.tsx`

```tsx app/providers.tsx
"use client";
import { config, queryClient } from "@/config";
import {
  AlchemyAccountProvider,
  AlchemyAccountsProviderProps,
} from "@account-kit/react";
import { QueryClientProvider } from "@tanstack/react-query";
import { PropsWithChildren } from "react";

export const Providers = (
  props: PropsWithChildren<{
    initialState?: AlchemyAccountsProviderProps["initialState"];
  }>,
) => {
  return (
    <QueryClientProvider client={queryClient}>
      <AlchemyAccountProvider
        config={config}
        queryClient={queryClient}
        initialState={props.initialState}
      >
        {props.children}
      </AlchemyAccountProvider>
    </QueryClientProvider>
  );
};
```

### 2. Update your `layout.tsx`

```tsx app/layout.tsx
import { config } from "@/config";
import { cookieToInitialState } from "@account-kit/core";
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import { headers } from "next/headers";
import "./globals.css";
import { Providers } from "./providers";

const inter = Inter({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "My App with Embedded Wallets",
  description: "My app with Alchemy Smart Wallets integration",
};

export default async function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  const headersList = await headers();
  const initialState = cookieToInitialState(
    config,
    headersList.get("cookie") ?? undefined,
  );

  return (
    <html lang="en">
      <body className={inter.className}>
        <Providers initialState={initialState}>{children}</Providers>
      </body>
    </html>
  );
}
```

### 3. Add authentication to your app

Now you can use the Alchemy React components to add wallet authentication anywhere in your app.

**Example page with login functionality**

```tsx app/page.tsx
"use client";
import {
  useAuthModal,
  useLogout,
  useSignerStatus,
  useUser,
} from "@account-kit/react";

export default function Home() {
  const user = useUser();
  const { openAuthModal } = useAuthModal();
  const signerStatus = useSignerStatus();
  const { logout } = useLogout();

  return (
    <main className="flex min-h-screen flex-col items-center p-24 gap-4 justify-center text-center">
      {signerStatus.isInitializing ? (
        <>Loading...</>
      ) : user ? (
        <div className="flex flex-col gap-2 p-2">
          <p className="text-xl font-bold">Success!</p>
          You're logged in as {user.email ?? "anon"}.
          <button
            className="akui-btn akui-btn-primary mt-6"
            onClick={() => logout()}
          >
            Log out
          </button>
        </div>
      ) : (
        <button className="akui-btn akui-btn-primary" onClick={openAuthModal}>
          Login
        </button>
      )}
    </main>
  );
}
```

Now that you have basic authentication working, you can explore additional features:

<CardGroup cols={2}>
  <Card
    title="Send User Operations"
    icon="bolt"
    href="/wallets/transactions/send/send-user-operations"
  >
    Learn how to perform transactions by sending user operations with your smart wallet.
  </Card>

{" "}

<Card
  title="Customize UI Components"
  icon="fa-solid fa-pencil"
  href="/wallets/react/ui-components"
>
  Customize and style the UI components to match your application's design.
</Card>

{" "}

<Card
  title="Add Gas Sponsorship"
  icon="gas-pump"
  href="/wallets/transactions/sponsor-gas/sponsor-gas"
>
  Enable gasless transactions by setting up gas sponsorship for your users.
</Card>

  <Card
    title="Multi-Factor Authentication"
    icon="shield"
    href="/wallets/react/mfa/setup-mfa"
  >
    Enhance security by implementing multi-factor authentication for your users.
  </Card>
</CardGroup>
