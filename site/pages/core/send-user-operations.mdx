---
title: Send User Operations
description: Learn how to send user operations using Account Kit's core package.
---

# Send user operations

Once your users have been [authenticated](/core/authenticate-users), you can start sending user operations!

To send user operations, you need to first create a `SmartAccountClient` using the [`createModularAccountV2Client`](/reference/account-kit/smart-contracts/functions/createModularAccountV2Client) function.
Once you have a `SmartAccountClient`, you can use the [`sendUserOperation`](/reference/aa-sdk/core/functions/sendUserOperation#senduseroperation) function to send user operations.

If you want to sponsor the gas for a user, see our [guide](/core/sponsor-gas).

## Single user operation

:::tip
In the below example, we use `ModularAccountV2` as the underlying Smart Contract type. You can also use a different account type (see other options [here](/smart-contracts/other-accounts/modular-account)).
:::

:::code-group

```ts twoslash [example.ts]
import { watchSmartAccountClient } from "@account-kit/core";
import { config } from "./config.js";

// How you actually store this state variable
// depends on the framework you're using
let clientState;

// The watch smart account client will handle all of the possible state changes
// that can impact this client:
//  - Signer status
//  - Account instantiation
//  - Chain changes
const clientSubscription = watchSmartAccountClient(
  {
    type: "ModularAccountV2",
  },
  config
)((clientState_) => {
  clientState = clientState_;
});

if (clientState == null || clientState.isLoadingClient) {
  console.log("Loading...");
}

const client = clientState.client;

await client.sendUserOperation({
  uo: {
    target: "0xtarget",
    data: "0x",
    value: 0n,
  },
});
```

```ts twoslash [config.ts] filename="config.ts"
// [!include ~/shared/core/config.ts]
```

:::

## Batch user operation

It's also possible to send user operations in batch using the same approach!

:::code-group

```ts twoslash [example.ts]
import { watchSmartAccountClient } from "@account-kit/core";
import { config } from "./config.js";

// How you actually store this state variable
// depends on the framework you're using
let clientState;

// The watch smart account client will handle all of the possible state changes
// that can impact this client:
//  - Signer status
//  - Account instantiation
//  - Chain changes
const clientSubscription = watchSmartAccountClient(
  {
    type: "ModularAccountV2",
  },
  config
)((clientState_) => {
  clientState = clientState_;
});

if (clientState == null || clientState.isLoadingClient) {
  console.log("Loading...");
}

const client = clientState.client;

await client.sendUserOperation({
  uo: [
    {
      target: "0xtarget",
      data: "0x",
      value: 0n,
    },
    {
      target: "0xtarget",
      data: "0x",
      value: 0n,
    },
  ],
});
```

```ts twoslash [config.ts] filename="config.ts"
// [!include ~/shared/core/config.ts]
```

:::
